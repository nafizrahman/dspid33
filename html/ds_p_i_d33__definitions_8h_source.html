<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>dsPid33: src/dsPID33_definitions.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="Ico.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">dsPid33
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ds_p_i_d33__definitions_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">src/dsPID33_definitions.h</div>  </div>
</div>
<div class="contents">
<a href="ds_p_i_d33__definitions_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ////////////////////////////////////////////////////////////////////////////</span>
<a name="l00002"></a>00002 <span class="comment">Included in &quot;dsPID33.c&quot;, it contains global definitions and variables </span>
<a name="l00003"></a>00003 <span class="comment">initialization</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00007"></a>00007 <span class="comment">/* standard include                                                                                                                  */</span>
<a name="l00008"></a>00008 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="ds_p_i_d33__common_8h.html">dsPID33_common.h</a>&quot;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00012"></a>00012 <span class="comment">/* Status bits                                                                                                               */</span>
<a name="l00013"></a>00013 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">/* Boot Segment Program Memory:No Boot Segment Program Memory</span>
<a name="l00016"></a>00016 <span class="comment">** Write Protect:Disabled **/</span>
<a name="l00017"></a>00017 <span class="comment">//_FBS(BSS_NO_FLASH &amp; BWRP_WRPROTECT_OFF);</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="comment">// External Oscillator</span>
<a name="l00020"></a>00020 <a class="code" href="ds_p_i_d33__definitions_8h.html#a02dd2a26d0354ffd176e85b08a0d8c9d">_FOSCSEL</a>(FNOSC_PRI);                    <span class="comment">// Primary (XT, HS, EC) Oscillator </span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="comment">// Clock Switching is enabled and Fail Safe Clock Monitor is disabled</span>
<a name="l00023"></a>00023 <span class="comment">// OSC2 Pin Function: OSC2 is Clock Output</span>
<a name="l00024"></a>00024 <span class="comment">// Primary Oscillator Mode: XT Crystal</span>
<a name="l00025"></a>00025 <a class="code" href="ds_p_i_d33__definitions_8h.html#a6719e9f11fe3399e2920b47d5dc8ed7d">_FOSC</a>(FCKSM_CSECMD &amp; OSCIOFNC_OFF  &amp; POSCMD_XT);                                        
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">/* Background Debug Enable Bit: Device will Reset in user mode</span>
<a name="l00028"></a>00028 <span class="comment">** Debugger/Emulator Enable Bit: Reset in operational mode</span>
<a name="l00029"></a>00029 <span class="comment">** JTAG Enable Bit: JTAG is disabled</span>
<a name="l00030"></a>00030 <span class="comment">** ICD communication channel select bits: </span>
<a name="l00031"></a>00031 <span class="comment">** communicate on PGC1/EMUC1 and PGD1/EMUD1 **/</span>
<a name="l00032"></a>00032 <span class="comment">//_FICD(BKBUG_ON &amp; COE_ON &amp; JTAGEN_OFF &amp; ICS_PGD1); // valid until C30 3.11</span>
<a name="l00033"></a>00033 <a class="code" href="ds_p_i_d33__definitions_8h.html#a061a6bb0a4fe64995536fc7d5beb2774">_FICD</a>(JTAGEN_OFF &amp; ICS_PGD1);
<a name="l00034"></a>00034 <span class="comment">/*Enable MCLR reset pin and turn on the power-up timers with 64ms delay.</span>
<a name="l00035"></a>00035 <span class="comment">PIN managed by PWM at reset*/</span>                                    
<a name="l00036"></a>00036 <a class="code" href="ds_p_i_d33__definitions_8h.html#a24d48934f3498331e1ad9eeeadf84a02">_FPOR</a>(FPWRT_PWR64 &amp; PWMPIN_ON &amp; HPOL_ON &amp; LPOL_ON);                             
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">/* Code Protect: Code Protect off</span>
<a name="l00039"></a>00039 <span class="comment">** Code Protect: Disabled</span>
<a name="l00040"></a>00040 <span class="comment">** Write Protect: Disabled **/</span> 
<a name="l00041"></a>00041 <a class="code" href="ds_p_i_d33__definitions_8h.html#a32e6e7a20e99a43bea5ab6a18435d1f6">_FGS</a>(GSS_OFF &amp; GCP_OFF &amp; GWRP_OFF); 
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="comment">//   Watchdog Timer Enable:</span>
<a name="l00044"></a>00044 <a class="code" href="ds_p_i_d33__definitions_8h.html#a8b56a7ea55192564be0180914a7cef93">_FWDT</a>(FWDTEN_OFF)       <span class="comment">//Watchdog timer enabled/disabled by user software      </span>
<a name="l00045"></a>00045                          
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/</span>
<a name="l00048"></a>00048 <span class="comment">/* External defininitions                                                    */</span>
<a name="l00049"></a>00049 <span class="comment">/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="comment">//UART</span>
<a name="l00052"></a>00052 <span class="comment">//{</span>
<a name="l00053"></a>00053 extern volatile <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#a8ceae767a192fb906f7ae9c4c3cd9985">UartRxBuff</a>[][2];
<a name="l00054"></a>00054 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> 
<a name="l00055"></a>00055                 UartTxBuff[] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a>((space(dma),aligned(128)));
<a name="l00056"></a>00056 extern volatile <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#ab232ab3429cca2b282252960c1e2a275">UartRxPtrIn</a>;
<a name="l00057"></a>00057 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#ab8f2067ed057fadf64efc525dee00527">UartRxPtrOut</a>;      
<a name="l00058"></a>00058 extern volatile <span class="keywordtype">int</span> <a class="code" href="com_8h.html#a94d09f88968f6f1079de93751301ebb3">UartRxStatus</a>;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 extern volatile <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#ad4010f20f46f633b2d9a255c5b18cc3e">Uart2RxPtrIn</a>;
<a name="l00061"></a>00061 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#a6472c72e777b7b75e940627004bdc3a2">Uart2RxPtrOut</a>;
<a name="l00062"></a>00062 extern volatile <span class="keywordtype">int</span> <a class="code" href="com_8h.html#acfa6242d276db29d9b77519b44bf85fd">Uart2RxStatus</a>;      
<a name="l00063"></a>00063 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#ac8da13b9722d30b210b7d6575958fe9c">TmpPtr</a>;
<a name="l00064"></a>00064 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#a88b1634dbe2fb4561352ae37c11f1dcc">UartRxPtrData</a>;
<a name="l00065"></a>00065 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#a7d58d9c69ba806dab057fb42db8d89e4">UartRxCmd</a>[];
<a name="l00066"></a>00066 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#adaa76057cb4ddf83ec874d920a81a491">UartTmpBuff</a>[][2];
<a name="l00067"></a>00067 extern const <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#a60ebb4db87db8bc75ff8e36b1ad20cbc">Test</a>[];
<a name="l00068"></a>00068 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#afc91beca3bffe3e5469c343973e1485a">TmpPtr2</a>;
<a name="l00069"></a>00069 extern <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="com_8h.html#afd3dcb6e36ecfc515970d31d3e1fa5ea">Uart2RxPtrData</a>;
<a name="l00070"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a91b1a1342df7fe9e51fb5dfc4999dfe8">00070</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a91b1a1342df7fe9e51fb5dfc4999dfe8">Port</a>;                       <span class="comment">// Port = 0 for UART1, Port = 1 for UART2</span>
<a name="l00071"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5208cd5ea16e02d481ebb5fdf8a78b47">00071</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a5208cd5ea16e02d481ebb5fdf8a78b47">SendMapPort</a>;        <span class="comment">// to temporay store port number for delayed TX</span>
<a name="l00072"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ade451905b5b339ed4d5c75e683a668af">00072</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ade451905b5b339ed4d5c75e683a668af">ResetPort</a>;          <span class="comment">// to temporay store port number for reset</span>
<a name="l00073"></a>00073 <span class="comment">//}</span>
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="comment">/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/</span>
<a name="l00076"></a>00076 <span class="comment">/* Global defininitions                                                      */</span>
<a name="l00077"></a>00077 <span class="comment">/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/</span>
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 struct <a class="code" href="struct_bits.html">Bits</a>{
<a name="l00080"></a>00080         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a0431bdd0457eee8f478543c2ebeed536">bit0</a>:1;
<a name="l00081"></a>00081         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a3c8a699d0b9fee5bcccf99a37fb5f7b4">bit1</a>:1;
<a name="l00082"></a>00082         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a047292ded0521ee6eccf3b553d53f46e">bit2</a>:1;
<a name="l00083"></a>00083         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#ad8e1e9f4aeee9f8766d9c0b5297093bb">bit3</a>:1;
<a name="l00084"></a>00084         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a8236c7b2559b977adbaf5255d2111814">bit4</a>:1;
<a name="l00085"></a>00085         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#aac6dabd343d82afedb3e175c7960b2d0">bit5</a>:1;
<a name="l00086"></a>00086         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a6ea1dee0891a483350d275761ad97c1a">bit6</a>:1;
<a name="l00087"></a>00087         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a1c1d68aa52ca32b5df0afaf1e83e59ed">bit7</a>:1;
<a name="l00088"></a>00088         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#ae025b2adbd3f9e1decc5f48bbb2dfb59">bit8</a>:1;
<a name="l00089"></a>00089         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#ac27829bcca0e8c423dbb728ceb97aac3">bit9</a>:1;
<a name="l00090"></a>00090         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a346e305977b2df8a331ea9f3f361ee96">bit10</a>:1;
<a name="l00091"></a>00091         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a4dc25b169945646e297875e51e453338">bit11</a>:1;
<a name="l00092"></a>00092         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a23f5fa6a6524890320909949147e261b">bit12</a>:1;
<a name="l00093"></a>00093         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a7117424e6f2939fe8f3654d4bebcd0a8">bit13</a>:1;
<a name="l00094"></a>00094         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a70c643f371338d0ce4a9bf13ab8cf4dd">bit14</a>:1;
<a name="l00095"></a>00095         <span class="keywordtype">unsigned</span> <a class="code" href="struct_bits.html#a3e00317132f0a5faa052708477da13a4">bit15</a>:1;
<a name="l00096"></a>00096 };
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aeaf29a5baa4cdd9ac9820dd2bc490e79">00098</a> <span class="keyword">struct </span><a class="code" href="struct_bits.html">Bits</a> <a class="code" href="ds_p_i_d33__definitions_8h.html#aeaf29a5baa4cdd9ac9820dd2bc490e79">VARbits1</a>;
<a name="l00099"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ae25842e9f6a346eb01882a0376784715">00099</a> <span class="keyword">struct </span><a class="code" href="struct_bits.html">Bits</a> <a class="code" href="ds_p_i_d33__definitions_8h.html#ae25842e9f6a346eb01882a0376784715">VARbits2</a>;
<a name="l00100"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a2e72ecf8401948d0f4eefb457e56ed4d">00100</a> <span class="keyword">volatile</span> <span class="keyword">struct </span><a class="code" href="struct_bits.html">Bits</a> <a class="code" href="ds_p_i_d33__definitions_8h.html#a2e72ecf8401948d0f4eefb457e56ed4d">VOLbits1</a>;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">//----- Flags</span>
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9b2acb22e6d02d69b7888603fc75c4cf">00104</a> <span class="preprocessor">#define RC6Tick(x) (Delay1KTCYx(4*x),Delay100TCYx(4*x),Delay10TCYx(3*x))</span>
<a name="l00105"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a11f00e487df8b648e7ec73ea224061d7">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define DELAY100MS Delay10KTCYx(100)    // 100ms</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span>
<a name="l00107"></a>00107 <span class="preprocessor">#if defined(__dsPIC33FJ64MC802__) || defined(__dsPIC33FJ128MC802__)</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="comment">// -- compiling for a 28 pin DSC ***************************************</span>
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <span class="preprocessor">        #define LED1 _LATA4</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span><span class="preprocessor">        #define LED2 _LATB4</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="comment">//      #define MOTOR_ENABLE1 _LATB1</span>
<a name="l00113"></a>00113 <span class="comment">//      #define MOTOR_ENABLE2 _LATB0</span>
<a name="l00114"></a>00114 <span class="preprocessor">        #define DIR_485 _LATB9</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>
<a name="l00116"></a>00116 <span class="preprocessor">#elif defined(__dsPIC33FJ64MC804__) || defined(__dsPIC33FJ128MC804__)</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span><span class="comment">// -- compiling for a 44 pin DSC ***************************************</span>
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="preprocessor">#ifdef DSNAVCON33</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00121"></a>00121 <span class="preprocessor">        #define LED1 _LATA8</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span><span class="preprocessor">        #define MOTOR_ENABLE1 _LATA7</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">        #define MOTOR_ENABLE2 _LATA10</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>
<a name="l00125"></a>00125 <span class="preprocessor">#endif</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>
<a name="l00127"></a>00127 <span class="preprocessor">#ifdef ROBOCONTROLLER</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span>        
<a name="l00129"></a>00129 <span class="preprocessor">        #define LED1 _LATA8</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span><span class="preprocessor">        #define LED2 _LATA9</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span><span class="preprocessor">        #define AUX1 _LATA7</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span><span class="preprocessor">        #define AUX2 _LATA10</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span><span class="preprocessor">        #define MOTOR_ENABLE1 _LATA0</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">        #define MOTOR_ENABLE2 _LATA1</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span><span class="preprocessor">        #define DIR_485 _LATC3</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>
<a name="l00137"></a>00137 <span class="preprocessor">#endif</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span>
<a name="l00139"></a>00139 <span class="preprocessor">#else</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>
<a name="l00141"></a>00141 <span class="preprocessor">#error -- dsPIC33FJ not recognized. Accepted only 64/128MC802 or 64/128MC804</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a>00143 <span class="preprocessor">#endif</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span>
<a name="l00145"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ac16a52ec76b1a310e2c283b4bc302ce5">00145</a> <span class="keyword">const</span> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ac16a52ec76b1a310e2c283b4bc302ce5">Tcy</a> = 1000000/(float)(<a class="code" href="ds_p_i_d33__common_8h.html#a99d7c812ba23bfdba5d29ec2fddf1e83">FCY</a>)* 100000000;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="comment">//----- Variabili</span>
<a name="l00148"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#acb559820d9ca11295b4500f179ef6392">00148</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;              <span class="comment">// generic index</span>
<a name="l00149"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a37d972ae0b47b9099e30983131d31916">00149</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0;              <span class="comment">// generic index</span>
<a name="l00150"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a70e63880b204e0dc0dda4d8dffe226f7">00150</a> <span class="keywordtype">long</span> <a class="code" href="com_8h.html#a70e63880b204e0dc0dda4d8dffe226f7">Blink</a> = 0; <span class="comment">// heartbeat blink index</span>
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="preprocessor">#define UART_CONT_TIMEOUT 100                   // continuos parameters TX in ms(debug)</span>
<a name="l00153"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a3a8afd2657f6103e1174a7a72aa7d8d5">00153</a> <span class="preprocessor"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a3a8afd2657f6103e1174a7a72aa7d8d5">TxContFlag</a>=0;                              <span class="comment">// continuos parameters TX flag (debug)</span>
<a name="l00154"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a06af0346de02b4af7df612af6e131878">00154</a> <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a06af0346de02b4af7df612af6e131878">UartContTxTimer</a>=<a class="code" href="ds_p_i_d33__definitions_8h.html#a54eb0a13ea5c659b585e80fd35c33437">UART_CONT_TIMEOUT</a>; <span class="comment">// timer for cont parameters TX </span>
<a name="l00155"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a54eb0a13ea5c659b585e80fd35c33437">00155</a> <span class="preprocessor">#define UART_CONT_TIMEOUT 100                   // continuos parameters TX in ms(debug) </span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>
<a name="l00157"></a>00157 <span class="comment">// ADC</span>
<a name="l00158"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#acd666697f9ed7fb20e7b0ca905877212">00158</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#acd666697f9ed7fb20e7b0ca905877212">ADCValue</a>[2] = {0,0};                <span class="comment">// 64 sample average ADC AN0, AN1 reading</span>
<a name="l00159"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4a4f245b2f0fef97b86e2c5ef04377c8">00159</a> <span class="preprocessor">#define ADC_CALC_FLAG VOLbits1.bit6     // enable ADC value average calculus</span>
<a name="l00160"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6cfaac353bb7fd05234ebc4111ee0ebb">00160</a> <span class="preprocessor"></span><span class="preprocessor">#define ADC_OVLD_LIMIT 800                      // in mA</span>
<a name="l00161"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a81c2d6652c94e211ad6c6e442e3b5fbd">00161</a> <span class="preprocessor"></span><span class="preprocessor">#define ADC_OVLD_TIME   100                     // n x 10ms</span>
<a name="l00162"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aade7be249c2caf27504ec7fd7e8c8508">00162</a> <span class="preprocessor"></span><span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#aade7be249c2caf27504ec7fd7e8c8508">ADCOvldCount</a>[2] = {0,0};           <span class="comment">// how long overload status last        </span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="comment">// Input Capture (speed measurement)</span>
<a name="l00165"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ab7bd731dcfe1abec7faf335334836fa4">00165</a> <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ab7bd731dcfe1abec7faf335334836fa4">Ic1Indx</a> = 0;                       <span class="comment">// samples buffer index for IC1</span>
<a name="l00166"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a76cdd80a69f7854545e2b75064fb871a">00166</a> <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a76cdd80a69f7854545e2b75064fb871a">Ic2Indx</a> = 0;                       <span class="comment">// samples buffer index for IC2</span>
<a name="l00167"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ac68910378d8fd7daec94c8785564a451">00167</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ac68910378d8fd7daec94c8785564a451">Ic1PrevPeriod</a>;    <span class="comment">// previous sample for IC1</span>
<a name="l00168"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a88cf5b5cd0190022aa3b9315598fecc1">00168</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a88cf5b5cd0190022aa3b9315598fecc1">Ic2PrevPeriod</a>;    <span class="comment">// previous sample for IC2</span>
<a name="l00169"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad16093a0b9caf4347f28c74346ef9cbf">00169</a> <span class="keyword">volatile</span> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ad16093a0b9caf4347f28c74346ef9cbf">Ic1Period</a> = 0;                    <span class="comment">// n samples average value for IC1</span>
<a name="l00170"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aadf26a5d9fa50e3289240aa557a727e3">00170</a> <span class="keyword">volatile</span> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#aadf26a5d9fa50e3289240aa557a727e3">Ic2Period</a> = 0;                    <span class="comment">// n samples average value for IC2</span>
<a name="l00171"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4bf551a0c877abf1e148cd1ab1e7bf96">00171</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a4bf551a0c877abf1e148cd1ab1e7bf96">Ic1CurrPeriod</a>;    <span class="comment">// current value for IC1</span>
<a name="l00172"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa94f6b15d79dfb18914fabc1602093f5">00172</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#aa94f6b15d79dfb18914fabc1602093f5">Ic2CurrPeriod</a>;    <span class="comment">// current value for IC2</span>
<a name="l00173"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#acedf0e3776cd3c63d65c0d02bbde08a6">00173</a> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#acedf0e3776cd3c63d65c0d02bbde08a6">Tmr2OvflwCount1</a>;                                   <span class="comment">// timer 2 overflow for IC1</span>
<a name="l00174"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad63f62ab5ed4d15c4de921414dacbc2e">00174</a> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ad63f62ab5ed4d15c4de921414dacbc2e">Tmr2OvflwCount2</a>;                                   <span class="comment">// timer 2 overflow for IC2</span>
<a name="l00175"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a955742b4d3aa6e546452f6157d58bfe6">00175</a> <span class="preprocessor">#define IC1_FIRST VOLbits1.bit7           // first encoder pulse for IC1</span>
<a name="l00176"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6e3011a1d22ee08bfd8a5eb0b7368b45">00176</a> <span class="preprocessor"></span><span class="preprocessor">#define IC2_FIRST VOLbits1.bit8           // first encoder pulse for IC2</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span>
<a name="l00178"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a311ccc470172ffb6eaedb52ef383955a">00178</a> <span class="preprocessor">#define PID1_CALC_FLAG VOLbits1.bit0      // PID and speed elaboration flag</span>
<a name="l00179"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad14ab2821b8f27e9d0ba9d4d79d3e4e4">00179</a> <span class="preprocessor"></span><span class="preprocessor">#define PID2_CALC_FLAG VOLbits1.bit1      // PID and speed elaboration flag</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>
<a name="l00181"></a>00181 <span class="comment">/*</span>
<a name="l00182"></a>00182 <span class="comment">-&gt; [4] [7] [19]</span>
<a name="l00183"></a>00183 <span class="comment">THIS PARAMETERS ARE VALID FOR RINO ROBOTIC PLATFORM.</span>
<a name="l00184"></a>00184 <span class="comment">HERE JUST AS AN EXAMPLE ON HOW TO CALCULATE THEM</span>
<a name="l00185"></a>00185 <span class="comment">Encoder = 300 cpr </span>
<a name="l00186"></a>00186 <span class="comment">Gear reduction ratio = 30:1</span>
<a name="l00187"></a>00187 <span class="comment">Wheel speed = 200 rpm</span>
<a name="l00188"></a>00188 <span class="comment">Encoder pulses for each wheel turn = 9.000</span>
<a name="l00189"></a>00189 <span class="comment">Wheel diameter = 58mm -&gt; circumference = 182,2123739mm</span>
<a name="l00190"></a>00190 <span class="comment">Space for each encoder pulse 1x mode Delta S = 0,020245819mm</span>
<a name="l00191"></a>00191 <span class="comment">Space for each encoder pulse 2x mode Delta S = 0,01012291mm</span>
<a name="l00192"></a>00192 <span class="comment">Space for each encoder pulse 4x mode Delta S = 0,005061455mm</span>
<a name="l00193"></a>00193 <span class="comment">Speed calculation K in micron/second = 298536736 -&gt; [19]</span>
<a name="l00194"></a>00194 <span class="comment">*/</span>
<a name="l00195"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad8f1771d4051eafad228df4d397d7e47">00195</a> <span class="preprocessor">#define CPR 300</span>
<a name="l00196"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a1b5f0a2cda8866a2a87331026ac8bd9a">00196</a> <span class="preprocessor"></span><span class="preprocessor">#define GEAR_RATIO 30</span>
<a name="l00197"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0b5f1a426cb13a02cca12345a7faddff">00197</a> <span class="preprocessor"></span><span class="preprocessor">#define CPR_WHEEL CPR*GEAR_RATIO                                // 9000</span>
<a name="l00198"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#adb83c7833483d493482487e6dc748303">00198</a> <span class="preprocessor"></span><span class="preprocessor">#define DIAMETER  0.058</span>
<a name="l00199"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6808537c758ad032a22e3b56a049dc0f">00199</a> <span class="preprocessor"></span><span class="preprocessor">#define CIRC  DIAMETER*PI                                               // 0.182212374</span>
<a name="l00200"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad4ea16155fc4f95f494395a2d07b6909">00200</a> <span class="preprocessor"></span><span class="preprocessor">#define SPACE_ENC_1X (CIRC / (CPR_WHEEL))               // 2.0245819E-05</span>
<a name="l00201"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7cacdca7b7b75347c24ac74600a73d3c">00201</a> <span class="preprocessor"></span><span class="preprocessor">#define SPACE_ENC_2X (CIRC / (CPR_WHEEL * 2))   // 1.012291E-05</span>
<a name="l00202"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5c3f33787e26c3b6dbcc2123df3ebb83">00202</a> <span class="preprocessor"></span><span class="preprocessor">#define SPACE_ENC_4X (CIRC / (CPR_WHEEL * 4))</span>
<a name="l00203"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a853b9620099511909fdcb774a7f2ac33">00203</a> <span class="preprocessor"></span><span class="preprocessor">#define K_VEL ((SPACE_ENC_2X) / (TCY))                  // TCY = 25,2341731266 ns</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>
<a name="l00205"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5c71a5e59a53413cd6c270266d63b031">00205</a> <span class="preprocessor">#define R 0                                                     // right index</span>
<a name="l00206"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa73214aa5f2f94f63d90bb4e3d99fe53">00206</a> <span class="preprocessor"></span><span class="preprocessor">#define L 1                                                     // right index</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a>00208 <span class="comment">// Speed calculation K in m/s</span>
<a name="l00209"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4d89a8c0bd42593f537de9654a0187c3">00209</a> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a4d89a8c0bd42593f537de9654a0187c3">Kvel</a>[2]; <span class="comment">// K_VEL &lt;&lt; 15</span>
<a name="l00210"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a8ad9961659ac5a8d36319e6691cb95d3">00210</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a8ad9961659ac5a8d36319e6691cb95d3">VelDes</a>[2] = {0,0};  <span class="comment">// desired speed mm/s</span>
<a name="l00211"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ab9ea4576e61721fa68c8168e015b47e7">00211</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ab9ea4576e61721fa68c8168e015b47e7">VelMes</a>[2] = {0,0};  <span class="comment">// measured speed mm/s  </span>
<a name="l00212"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0c7ca19d73cabf276598e53781d1a2a9">00212</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a0c7ca19d73cabf276598e53781d1a2a9">VelDesM</a> = 0;                <span class="comment">// mean measured speed mm/s [23]</span>
<a name="l00213"></a>00213 <span class="comment">// threshold to change PID calculation frequency. = Speed in mm/s *2^15/1000</span>
<a name="l00214"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a79e465ae4acf7e1636dd74cc5be8a618">00214</a> <span class="preprocessor">#define VEL_MIN_PID 1600 // Approx 50mm/s</span>
<a name="l00215"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9323e760f52cbb4e28d7f1098ee5fdd8">00215</a> <span class="preprocessor"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a9323e760f52cbb4e28d7f1098ee5fdd8">PidCycle</a>[2]; <span class="comment">// counter for longer cycle PID</span>
<a name="l00216"></a>00216 <span class="comment">// constants for traveled distance calculation: SPACE_ENC_4X in mm</span>
<a name="l00217"></a>00217 <span class="comment">// see [2] in descrEng.exe in dsPID folder</span>
<a name="l00218"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#acce085fb3e400e13f46a7d32a7fdc6bc">00218</a> <span class="keywordtype">long</span> <span class="keywordtype">double</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#acce085fb3e400e13f46a7d32a7fdc6bc">Ksp</a>[2];
<a name="l00219"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a55fe808c96551f1979b3cceb6bb84e30">00219</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a55fe808c96551f1979b3cceb6bb84e30">Axle</a>;<span class="comment">// base width, distance between center of the wheels</span>
<a name="l00220"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7bce650326fb4f77339ecdcfd3d4e493">00220</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a7bce650326fb4f77339ecdcfd3d4e493">SemiAxle</a>;<span class="comment">// Axle/2 useful for odometry calculation</span>
<a name="l00221"></a>00221 <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a7bce650326fb4f77339ecdcfd3d4e493">SemiAxle</a>; <span class="comment">// Axle / 2</span>
<a name="l00222"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a46cb1183b49bb1becada0a2b1fca0604">00222</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a46cb1183b49bb1becada0a2b1fca0604">SpTick</a>[2] = {0,0};  <span class="comment">// distance traveled by a wheel as encoder pulses</span>
<a name="l00223"></a>00223 
<a name="l00224"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9cfd2f16e0172e5c73a1e5edc76892b6">00224</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a9cfd2f16e0172e5c73a1e5edc76892b6">Spmm</a>[2] = {0,0};  <span class="comment">// distance traveled by a wheel as mm(SpTick[x]*Ksp[x])</span>
<a name="l00225"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a2cec7b5a30f7f3b78c8d5dbddf4c7423">00225</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a2cec7b5a30f7f3b78c8d5dbddf4c7423">Space</a> = 0;                <span class="comment">// total distance traveled by the robot</span>
<a name="l00226"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a849f7f047f6ef8d21c3250118469e183">00226</a> <span class="preprocessor">#define SPMIN 0.01              // Minimum value to perform odometry</span>
<a name="l00227"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a389fe7477c4f411d4d2bb905e0c99b81">00227</a> <span class="preprocessor"></span><span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a389fe7477c4f411d4d2bb905e0c99b81">CosPrev</a> = 1;              <span class="comment">// previous value for Cos(ThetaMes)</span>
<a name="l00228"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a15d3c39d949717a1bde398ea4962eb02">00228</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a15d3c39d949717a1bde398ea4962eb02">SinPrev</a> = 0;              <span class="comment">// previous value for Sin(ThetaMes)</span>
<a name="l00229"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4dee79489e441864b497720f1e94f120">00229</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a4dee79489e441864b497720f1e94f120">PosXmes</a> = 0;              <span class="comment">// current X position coordinate</span>
<a name="l00230"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a87a357dd4fee8d8f5a8993d981cf35d4">00230</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a87a357dd4fee8d8f5a8993d981cf35d4">PosYmes</a> = 0;              <span class="comment">// current Y position coordinate</span>
<a name="l00231"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a611227bed8176bdcf78f28eb4c9888d0">00231</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a611227bed8176bdcf78f28eb4c9888d0">ThetaMes</a> = 0;             <span class="comment">// Current orientation angle</span>
<a name="l00232"></a>00232 <span class="comment">// #define PI     3.1415926536 180°</span>
<a name="l00233"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4912c64aec0c943b7985db6cb61ff83a">00233</a> <span class="preprocessor">#define TWOPI 6.2831853072      // 360°</span>
<a name="l00234"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a59d83d878ab677f99e48bd48ad80eef0">00234</a> <span class="preprocessor"></span><span class="preprocessor">#define HALFPI 1.570796327      // 90°</span>
<a name="l00235"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a42c6ee704d5995650dea8305ee1d2930">00235</a> <span class="preprocessor"></span><span class="preprocessor">#define QUARTPI 0.7853981634// 45°</span>
<a name="l00236"></a>00236 <span class="preprocessor"></span>
<a name="l00237"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#acc6d0c2c053cbcef2384cbed65dd6979">00237</a> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#acc6d0c2c053cbcef2384cbed65dd6979">Vel</a>[2];    <span class="comment">// speed in m/s  &lt;&lt; 15 (long) for PID1 and PID2</span>
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="comment">// PID [19d]</span>
<a name="l00240"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ae02dfbc875f6ab4d268e00307b6fe433">00240</a> tPID <a class="code" href="ds_p_i_d33__definitions_8h.html#ae02dfbc875f6ab4d268e00307b6fe433">PIDstruct1</a>;
<a name="l00241"></a>00241 fractional abcCoefficient1[3] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.xbss, bss, xmemory&quot;</span>)));
<a name="l00242"></a>00242 fractional controlHistory1[3] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.ybss, bss, ymemory&quot;</span>)));
<a name="l00243"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a843702f7b5a493eeabe40eb08bd2ff4a">00243</a> fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#a843702f7b5a493eeabe40eb08bd2ff4a">kCoeffs1</a>[] = {0,0,0};
<a name="l00244"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a08ed89f1b0686fbf5973ae9e6c421da9">00244</a> <span class="preprocessor">#define KP1 kCoeffs1[0]</span>
<a name="l00245"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a11c4319254dbf2d15e4e190458953ea1">00245</a> <span class="preprocessor"></span><span class="preprocessor">#define KI1 kCoeffs1[1]</span>
<a name="l00246"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a62dfed7b72614c5259d58b3f114ab855">00246</a> <span class="preprocessor"></span><span class="preprocessor">#define KD1 kCoeffs1[2]</span>
<a name="l00247"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5b7cb563cee7fcab3646ac73bfec9836">00247</a> <span class="preprocessor"></span><span class="preprocessor">#define PID_OUT1 PIDstruct1.controlOutput</span>
<a name="l00248"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a115818384912b1c35ffe046bc66ee6f2">00248</a> <span class="preprocessor"></span><span class="preprocessor">#define PID_MES1 PIDstruct1.measuredOutput</span>
<a name="l00249"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aaf6803848d613fe26adac3ce24a92293">00249</a> <span class="preprocessor"></span><span class="preprocessor">#define PID_REF1 PIDstruct1.controlReference</span>
<a name="l00250"></a>00250 <span class="preprocessor"></span>
<a name="l00251"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a56a4a5bc6097a4b6ef8982a0e1d7cc2d">00251</a> tPID <a class="code" href="ds_p_i_d33__definitions_8h.html#a56a4a5bc6097a4b6ef8982a0e1d7cc2d">PIDstruct2</a>;
<a name="l00252"></a>00252 fractional abcCoefficient2[3] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.xbss, bss, xmemory&quot;</span>)));
<a name="l00253"></a>00253 fractional controlHistory2[3] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.ybss, bss, ymemory&quot;</span>)));
<a name="l00254"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad8328ab5c71bdc690c9c654e3878fd32">00254</a> fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#ad8328ab5c71bdc690c9c654e3878fd32">kCoeffs2</a>[] = {0,0,0};
<a name="l00255"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a85e592792070b44b414d998f7c72c961">00255</a> <span class="preprocessor">#define KP2 kCoeffs2[0]</span>
<a name="l00256"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a35bbf7801d6af7dbbd7136bd9a5cd396">00256</a> <span class="preprocessor"></span><span class="preprocessor">#define KI2 kCoeffs2[1]</span>
<a name="l00257"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa14141a3768da78340e7bac812e21959">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define KD2 kCoeffs2[2]</span>
<a name="l00258"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a719c9a6b9fce49a92cdde20abef4b420">00258</a> <span class="preprocessor"></span><span class="preprocessor">#define PID_OUT2 PIDstruct2.controlOutput</span>
<a name="l00259"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a473ccd97f1d3b01910c4070f99d98169">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define PID_MES2 PIDstruct2.measuredOutput</span>
<a name="l00260"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abdf5b1079825110830d731b3388828e7">00260</a> <span class="preprocessor"></span><span class="preprocessor">#define PID_REF2 PIDstruct2.controlReference</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>
<a name="l00262"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abdb5ebd40a9d20e527a8a08e50af4409">00262</a> <span class="preprocessor">#define RAMP_FLAG1 VARbits1.bit6        // acc/dec-eleration flag</span>
<a name="l00263"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a11f69cd40c0277286560af950300bf05">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define RAMP_T_FLAG1 VARbits1.bit7      // acc/dec-eleration direction</span>
<a name="l00264"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4aaf95d79a76519a4e96a4b83b7fd2f3">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define RAMP_FLAG2 VARbits1.bit1        // acc/dec-eleration flag</span>
<a name="l00265"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aadbe0f0a0d2c2db9398c365fabc0d5c7">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define RAMP_T_FLAG2 VARbits1.bit15     // acc/dec-eleration direction</span>
<a name="l00266"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7419cf578d32868fbbe35f84acb10786">00266</a> <span class="preprocessor"></span>fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#a7419cf578d32868fbbe35f84acb10786">VelFin</a>[2] = {0,0};           <span class="comment">// temp for speed during acceleration   </span>
<a name="l00267"></a>00267 <span class="comment">//#define ACC 0.00025                           // acceleration</span>
<a name="l00268"></a>00268 <span class="comment">//#define DEC 0.0005                            // deceleration</span>
<a name="l00269"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a09fc148003f20ecc4834d4ea6aefb15c">00269</a> <span class="preprocessor">  #define ACC 0.00005                           // acceleration</span>
<a name="l00270"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#afe38ec6126e35e40049e27fdf4586ba5">00270</a> <span class="preprocessor"></span><span class="preprocessor">  #define DEC 0.001                                     // deceleration</span>
<a name="l00271"></a>00271 <span class="preprocessor"></span>
<a name="l00272"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ae7a3b2af5c19975de4291408ab4c9663">00272</a> fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#ae7a3b2af5c19975de4291408ab4c9663">Ramp1</a>;                                       <span class="comment">// acc/dec-eleration ramp slope</span>
<a name="l00273"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0d6520657b638a94231ea1c784b05101">00273</a> fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#a0d6520657b638a94231ea1c784b05101">Ramp2</a>;                                       <span class="comment">// acc/dec-eleration ramp slope</span>
<a name="l00274"></a>00274 
<a name="l00275"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a913bc4e742b1e979e8f913427c7ebf82">00275</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a913bc4e742b1e979e8f913427c7ebf82">Curr</a>[2] = {0,0};                            <span class="comment">// motor current</span>
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">/* Field mapping, regular size*/</span>
<a name="l00278"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7a4127f14f16563da90eb3c836bc404f">00278</a> <span class="preprocessor">#define CELL_SIZE 100           // Dimension of grid cell side in mm</span>
<a name="l00279"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0a82fd70402bbdc2259248e735fecbca">00279</a> <span class="preprocessor"></span><span class="preprocessor">#define MAP_SIZE 15000          // Abs Dimension of field (X = Y) in mm</span>
<a name="l00280"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a3a4e66778ea0f1c0feb0f6c17efd244b">00280</a> <span class="preprocessor"></span><span class="preprocessor">#define HALF_MAP_SIZE 7500      // + - Dimension of field (X = Y) in mm</span>
<a name="l00281"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ac3603bc0f137fed38b53f795148128f9">00281</a> <span class="preprocessor"></span><span class="preprocessor">#define VAR_PER_BYTE 2          // # of cell var per byte</span>
<a name="l00282"></a>00282 <span class="preprocessor"></span>
<a name="l00283"></a>00283 <span class="comment">// ATTENTION when updating matrix size values, update as well the </span>
<a name="l00284"></a>00284 <span class="comment">//      equivalent values on dsNavConsole software code</span>
<a name="l00285"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa3357dacd5fdcf74fdebec08ddd03d5c">00285</a> <span class="preprocessor">#define X_SIZE 75 // (MAP_SIZE/CELL_SIZE/VAR_PER_BYTE) MAX X array index</span>
<a name="l00286"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6cc154183c54e88a5bd4bd4039d01808">00286</a> <span class="preprocessor"></span><span class="preprocessor">#define Y_SIZE 150 //(MAP_SIZE/CELL_SIZE) MAX Y array index</span>
<a name="l00287"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#acf7323c7a26a48b48deebce4d31f261e">00287</a> <span class="preprocessor"></span><span class="preprocessor">#define X_POINT_MAX 150 // [22g]</span>
<a name="l00288"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a09631c0b7f27139c9a5c3e4dcd34a1be">00288</a> <span class="preprocessor"></span><span class="preprocessor">#define X_POINT_MIN 0   // [22g]</span>
<a name="l00289"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4b4a0272c6ea0bf2f30bfb98c3ca586e">00289</a> <span class="preprocessor"></span><span class="preprocessor">#define Y_POINT_MAX 150 // [22g]</span>
<a name="l00290"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ac1bb0712b803de79cf3348d070eaac5d">00290</a> <span class="preprocessor"></span><span class="preprocessor">#define Y_POINT_MIN 0   // [22g]</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span>
<a name="l00292"></a>00292 <span class="comment">/*Field mapping, regular size */</span>
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 <span class="comment">/* Field mapping =========== FOR DEBUGGING PURPOSES ==================</span>
<a name="l00295"></a>00295 <span class="comment">        because MPLAB watch window becomes extremely slow with a big array</span>
<a name="l00296"></a>00296 <span class="comment">        of struct, during debugging this array must be decresead in size</span>
<a name="l00297"></a>00297 <span class="comment">#define CELL_SIZE 100           // Dimension of grid cell side in mm</span>
<a name="l00298"></a>00298 <span class="comment">#define MAP_SIZE 5000           // Abs Dimension of field (X = Y) in mm</span>
<a name="l00299"></a>00299 <span class="comment">#define HALF_MAP_SIZE 2500      // + - Dimension of field (X = Y) in mm</span>
<a name="l00300"></a>00300 <span class="comment">#define VAR_PER_BYTE 2          // # of cell var per byte</span>
<a name="l00301"></a>00301 <span class="comment"></span>
<a name="l00302"></a>00302 <span class="comment">// ATTENTION when updating matrix size values, update as well the </span>
<a name="l00303"></a>00303 <span class="comment">//      equivalent values on dsNavConsole software code</span>
<a name="l00304"></a>00304 <span class="comment">#define X_SIZE 25 // (MAP_SIZE/CELL_SIZE/VAR_PER_BYTE) MAX X array index</span>
<a name="l00305"></a>00305 <span class="comment">#define Y_SIZE 50 //(MAP_SIZE/CELL_SIZE) MAX Y array index</span>
<a name="l00306"></a>00306 <span class="comment">#define X_POINT_MAX 50 // [22g]</span>
<a name="l00307"></a>00307 <span class="comment">#define X_POINT_MIN 0  // [22g]</span>
<a name="l00308"></a>00308 <span class="comment">#define Y_POINT_MAX 50 // [22g]</span>
<a name="l00309"></a>00309 <span class="comment">#define Y_POINT_MIN 0  // [22g]</span>
<a name="l00310"></a>00310 <span class="comment">Field mapping =========== FOR DEBUGGING PURPOSES ==================*/</span>
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a82f0404c8cb84ed05093ab545cfaeafa">00312</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a82f0404c8cb84ed05093ab545cfaeafa">Xshift</a> = 0; <span class="comment">// [22g]</span>
<a name="l00313"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a73b1bd13ed49e256cbfd81d5fcbbb763">00313</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a73b1bd13ed49e256cbfd81d5fcbbb763">Yshift</a> = 0; <span class="comment">// [22g]</span>
<a name="l00314"></a>00314 
<a name="l00315"></a><a class="code" href="structnibble.html">00315</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00316"></a>00316 {
<a name="l00317"></a><a class="code" href="structnibble.html#a1fc4ff3d24d6dbfe9b7f3ce789253dcc">00317</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nib:4;
<a name="l00318"></a>00318 }
<a name="l00319"></a>00319 <a class="code" href="structnibble.html">nibble</a>;
<a name="l00320"></a>00320 
<a name="l00321"></a><a class="code" href="union_packed_bit.html">00321</a> <span class="keyword">typedef</span> <span class="keyword">union</span>
<a name="l00322"></a>00322 {
<a name="l00323"></a><a class="code" href="union_packed_bit.html#a9e50ea0e570fefec1e08acd8859e1d7f">00323</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="union_packed_bit.html#a9e50ea0e570fefec1e08acd8859e1d7f">UC</a>;
<a name="l00324"></a>00324         <span class="keyword">struct</span>
<a name="l00325"></a>00325         {
<a name="l00326"></a><a class="code" href="union_packed_bit.html#aaaa2ae4b03d0be31bd341ab6691fcae8">00326</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nib0:4;
<a name="l00327"></a><a class="code" href="union_packed_bit.html#a148dbf54820ce62b65499bf542e2bdf0">00327</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nib1:4;
<a name="l00328"></a>00328         }TN;
<a name="l00329"></a>00329 }<a class="code" href="union_packed_bit.html">PackedBit</a>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="keywordtype">void</span> <a class="code" href="ds_p_i_d33_8c.html#a8629237a76431df1ef42e9b58ccae312">SetMap</a>(<span class="keywordtype">int</span> Xpnt, <span class="keywordtype">int</span> Ypnt, <a class="code" href="structnibble.html">nibble</a> *CellVal);
<a name="l00332"></a>00332 
<a name="l00333"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#adb43804a231f49b4dbd9fe480d4083ab">00333</a> <a class="code" href="union_packed_bit.html">PackedBit</a> <a class="code" href="ds_p_i_d33__definitions_8h.html#adb43804a231f49b4dbd9fe480d4083ab">MapXY</a>[<a class="code" href="ds_p_i_d33__definitions_8h.html#aa3357dacd5fdcf74fdebec08ddd03d5c">X_SIZE</a>][<a class="code" href="ds_p_i_d33__definitions_8h.html#a6cc154183c54e88a5bd4bd4039d01808">Y_SIZE</a>];        <span class="comment">// to store field mapping [22b]</span>
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 <span class="comment">// unsigned char MapXY[X_SIZE][Y_SIZE]; // to store field mapping [22b]</span>
<a name="l00336"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad2cc89785e23c93e7d759c2ec0fbe495">00336</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ad2cc89785e23c93e7d759c2ec0fbe495">XindxPrev</a>=10000;            <span class="comment">// previous X index </span>
<a name="l00337"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a569c865cad748d30080b4324a7ee03d2">00337</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a569c865cad748d30080b4324a7ee03d2">YindxPrev</a>=10000;            <span class="comment">// previous Y index </span>
<a name="l00338"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9454d4a83698dd061eedb69ae736d83f">00338</a> <span class="preprocessor">#define SPACE_FLAG VARbits1.bit2</span>
<a name="l00339"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a953f0a426af0d3698999c0cea37f4be0">00339</a> <span class="preprocessor"></span><span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a953f0a426af0d3698999c0cea37f4be0">MaxMapX</a> = <a class="code" href="ds_p_i_d33__definitions_8h.html#a3a4e66778ea0f1c0feb0f6c17efd244b">HALF_MAP_SIZE</a>;  <span class="comment">// current field limits</span>
<a name="l00340"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abf307788495a57ca41c34d6d2ea0ad15">00340</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#abf307788495a57ca41c34d6d2ea0ad15">MinMapX</a> = -<a class="code" href="ds_p_i_d33__definitions_8h.html#a3a4e66778ea0f1c0feb0f6c17efd244b">HALF_MAP_SIZE</a>;
<a name="l00341"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9ece05884621b9aee234a496f6ba5ad8">00341</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a9ece05884621b9aee234a496f6ba5ad8">MaxMapY</a> = <a class="code" href="ds_p_i_d33__definitions_8h.html#a3a4e66778ea0f1c0feb0f6c17efd244b">HALF_MAP_SIZE</a>;
<a name="l00342"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a4df14d9707fa7c05417a073afdea8b6f">00342</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a4df14d9707fa7c05417a073afdea8b6f">MinMapY</a> = -<a class="code" href="ds_p_i_d33__definitions_8h.html#a3a4e66778ea0f1c0feb0f6c17efd244b">HALF_MAP_SIZE</a>;
<a name="l00343"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a76843a12060f1df6c869de1ac4fba202">00343</a> <span class="preprocessor">#define MAP_SEND_FLAG VOLbits1.bit4     // to send map to console</span>
<a name="l00344"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6094c00b22c8cff7ac35581b37385dd0">00344</a> <span class="preprocessor"></span><span class="preprocessor">#define MAP_BUFF_FLAG VOLbits1.bit5 // to send another map grid row</span>
<a name="l00345"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a2c9e0144fde735af9e35912158284217">00345</a> <span class="preprocessor"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a2c9e0144fde735af9e35912158284217">MapSendIndx</a>;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347 <span class="comment">// Angle PID [23]</span>
<a name="l00348"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a680c5fd72d576ef78f85bfd8b51d5275">00348</a> tPID <a class="code" href="ds_p_i_d33__definitions_8h.html#a680c5fd72d576ef78f85bfd8b51d5275">AnglePIDstruct</a>;
<a name="l00349"></a>00349 fractional AngleabcCoefficient[3] 
<a name="l00350"></a>00350         <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.xbss, bss, xmemory&quot;</span>)));
<a name="l00351"></a>00351 fractional AnglecontrolHistory[3] 
<a name="l00352"></a>00352         <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.ybss, bss, ymemory&quot;</span>)));
<a name="l00353"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a797c49f2ced858a984c41d3e8fd14e72">00353</a> fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#a797c49f2ced858a984c41d3e8fd14e72">AngleKCoeffs</a>[] = {0,0,0};
<a name="l00354"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa3921b5835fead737e5bf98dbebf4fde">00354</a> <span class="preprocessor">#define ANGLE_KP AngleKCoeffs[0]                                                // K parameters</span>
<a name="l00355"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad3c6108576a8c14dc64cf980dcbeaa07">00355</a> <span class="preprocessor"></span><span class="preprocessor">#define ANGLE_KI AngleKCoeffs[1]</span>
<a name="l00356"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a8ac275be5870eac565e6abe883f71027">00356</a> <span class="preprocessor"></span><span class="preprocessor">#define ANGLE_KD AngleKCoeffs[2]</span>
<a name="l00357"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a53bb5d1f40e3e633fef41b210da86654">00357</a> <span class="preprocessor"></span><span class="preprocessor">#define ANGLE_PID_DES AnglePIDstruct.controlReference   // desired angle</span>
<a name="l00358"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a32cfbd4cacf3295bdba1ad24f78154d5">00358</a> <span class="preprocessor"></span><span class="preprocessor">#define ANGLE_PID_MES AnglePIDstruct.measuredOutput             // measured angle</span>
<a name="l00359"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a70180b4d353ebc308d5faf29b46e8be8">00359</a> <span class="preprocessor"></span><span class="preprocessor">#define ANGLE_PID_OUT AnglePIDstruct.controlOutput              // PID output</span>
<a name="l00360"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad90cb3b44d70aefb64c15aa34081f4ce">00360</a> <span class="preprocessor"></span><span class="preprocessor">#define MAX_ROT_SPEED 512       // MAX speed (+ or -) of wheels during rotation</span>
<a name="l00361"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ac5a945020d3528355cda82d383676736">00361</a> <span class="preprocessor"></span><span class="preprocessor">#define RAD2DEG 57.295779513    // = 180/PI</span>
<a name="l00362"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#af7e8592d0a634bd3642e9fd508ea8022">00362</a> <span class="preprocessor"></span><span class="preprocessor">#define DEG2RAD 0.0174532925    // = PI/180</span>
<a name="l00363"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abc1f22f668c9b07f4477ee12d19da5b0">00363</a> <span class="preprocessor"></span><span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#abc1f22f668c9b07f4477ee12d19da5b0">ThetaDes</a> = 0;     <span class="comment">// desired orientation angle (set point) [23] (Rad)</span>
<a name="l00364"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a068c444982c70985882428ce63952cc2">00364</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a068c444982c70985882428ce63952cc2">ThetaDesRef</a>;      <span class="comment">// to temporarely store angle (Rad)</span>
<a name="l00365"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0ca2aa233ccefdc83dd783af0d096100">00365</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a0ca2aa233ccefdc83dd783af0d096100">AngleCmp</a>;           <span class="comment">// compass bearing from sensors board (Deg * 10)</span>
<a name="l00366"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a30e68f049d4b4acf8f80003200ea854e">00366</a> <span class="preprocessor">#define ORIENTATION_FLAG VARbits1.bit3  // to control Orientation() execution</span>
<a name="l00367"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aca83bbf78c4f9caa63078080a8ed5a80">00367</a> <span class="preprocessor"></span><span class="preprocessor">#define ANGLE_OK_FLAG VARbits1.bit12    // target angle reached</span>
<a name="l00368"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a47809da00fa7cc003e2ff41af8438af8">00368</a> <span class="preprocessor"></span><span class="preprocessor">#define MIN_THETA_ERR DEG2RAD   // acceptable angle error in radians = 1°</span>
<a name="l00369"></a>00369 <span class="preprocessor"></span>
<a name="l00370"></a>00370 <span class="comment">// **debug**</span>
<a name="l00371"></a>00371 <span class="comment">// unsigned char ErrNo[2][16];  // store the occurrence of any kind of error </span>
<a name="l00372"></a>00372 <span class="comment">// unsigned char ErrNo2[16];    // for both MCs and for RX2</span>
<a name="l00373"></a>00373 <span class="comment">// **debug**</span>
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 <span class="comment">// Distance [24]</span>
<a name="l00376"></a>00376 <span class="comment">// field boundaries in mm. Diagonal is 10m</span>
<a name="l00377"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#af240b704c07c7b9bd39648c45fa7e251">00377</a> <span class="preprocessor">#define BOUND_X_MIN -7070               // left bottom</span>
<a name="l00378"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a64f484cf675406525b36a5b9f8dcda26">00378</a> <span class="preprocessor"></span><span class="preprocessor">#define BOUND_Y_MIN -7070</span>
<a name="l00379"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aaf1adf708bcfa50a0061d1086ed9ca71">00379</a> <span class="preprocessor"></span><span class="preprocessor">#define BOUND_X_MAX 7070        // top right</span>
<a name="l00380"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a608b67c547654cda55aace07c8666cfa">00380</a> <span class="preprocessor"></span><span class="preprocessor">#define BOUND_Y_MAX 7070</span>
<a name="l00381"></a>00381 <span class="preprocessor"></span>
<a name="l00382"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a38200be95d219d5bbf4f332ab8bd1ca1">00382</a> <span class="preprocessor">#define BOUND_FREE 500          // if close to goal don&#39;t care of boundaries</span>
<a name="l00383"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad809ae00f641c79b1492a86c94d1e3b9">00383</a> <span class="preprocessor"></span><span class="preprocessor">#define OBST_THRESHOLD 1500.00 // if far enough don&#39;t care of obstacles</span>
<a name="l00384"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aca8498715115b77faaef8c43584b8441">00384</a> <span class="preprocessor"></span><span class="preprocessor">#define OBST_MIN_DIST 50      // if too close another avoiding procedure</span>
<a name="l00385"></a>00385 <span class="preprocessor"></span>
<a name="l00386"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a87ba161fb7680322a1660aa88e2a29d6">00386</a> <span class="preprocessor">#define OBST_FIELD 13   // obstacle visibility (13 cells around robot)</span>
<a name="l00387"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a032503e76d6f69bc67e99e909c8125da">00387</a> <span class="preprocessor"></span><span class="preprocessor">#define TABLE_SIZE 16   // precomputed table dimension (16 cells around robot)</span>
<a name="l00388"></a>00388 <span class="preprocessor"></span>
<a name="l00389"></a>00389 <span class="comment">// Table to compute Y component for the repulsive vectors [24e]</span>
<a name="l00390"></a>00390 <span class="keywordtype">float</span> VffTableY[33][33] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a>((space(auto_psv)))=
<a name="l00391"></a>00391 {
<a name="l00392"></a>00392 {-1.38,-1.42,-1.46,-1.48,-1.5,-1.5,-1.49,-1.45,-1.4,-1.31,-1.2,-1.06,-0.89,-0.7,-0.48,-0.24,0,0.24,0.48,0.7,0.89,1.06,1.2,1.31,1.4,1.45,1.49,1.5,1.5,1.48,1.46,1.42,1.38},
<a name="l00393"></a>00393 {-1.52,-1.57,-1.62,-1.66,-1.69,-1.71,-1.71,-1.68,-1.63,-1.54,-1.42,-1.26,-1.07,-0.84,-0.58,-0.29,0,0.29,0.58,0.84,1.07,1.26,1.42,1.54,1.63,1.68,1.71,1.71,1.69,1.66,1.62,1.57,1.52},
<a name="l00394"></a>00394 {-1.66,-1.74,-1.8,-1.86,-1.91,-1.95,-1.96,-1.95,-1.91,-1.83,-1.7,-1.52,-1.3,-1.02,-0.71,-0.36,0,0.36,0.71,1.02,1.3,1.52,1.7,1.83,1.91,1.95,1.96,1.95,1.91,1.86,1.8,1.74,1.66},
<a name="l00395"></a>00395 {-1.83,-1.92,-2.01,-2.09,-2.17,-2.23,-2.27,-2.28,-2.25,-2.17,-2.04,-1.85,-1.59,-1.26,-0.88,-0.45,0,0.45,0.88,1.26,1.59,1.85,2.04,2.17,2.25,2.28,2.27,2.23,2.17,2.09,2.01,1.92,1.83},
<a name="l00396"></a>00396 {-2,-2.12,-2.23,-2.35,-2.46,-2.55,-2.62,-2.67,-2.67,-2.61,-2.48,-2.28,-1.98,-1.59,-1.11,-0.57,0,0.57,1.11,1.59,1.98,2.28,2.48,2.61,2.67,2.67,2.62,2.55,2.46,2.35,2.23,2.12,2},
<a name="l00397"></a>00397 {-2.19,-2.33,-2.48,-2.63,-2.78,-2.92,-3.04,-3.13,-3.18,-3.16,-3.05,-2.83,-2.49,-2.02,-1.43,-0.74,0,0.74,1.43,2.02,2.49,2.83,3.05,3.16,3.18,3.13,3.04,2.92,2.78,2.63,2.48,2.33,2.19},
<a name="l00398"></a>00398 {-2.38,-2.56,-2.75,-2.95,-3.15,-3.35,-3.54,-3.7,-3.81,-3.85,-3.78,-3.58,-3.2,-2.64,-1.89,-0.99,0,0.99,1.89,2.64,3.2,3.58,3.78,3.85,3.81,3.7,3.54,3.35,3.15,2.95,2.75,2.56,2.38},
<a name="l00399"></a>00399 {-2.59,-2.8,-3.04,-3.29,-3.56,-3.83,-4.11,-4.36,-4.58,-4.72,-4.74,-4.58,-4.19,-3.51,-2.55,-1.35,0,1.35,2.55,3.51,4.19,4.58,4.74,4.72,4.58,4.36,4.11,3.83,3.56,3.29,3.04,2.8,2.59},
<a name="l00400"></a>00400 {-2.8,-3.05,-3.34,-3.66,-4,-4.37,-4.76,-5.15,-5.52,-5.83,-6,-5.96,-5.59,-4.81,-3.57,-1.91,0,1.91,3.57,4.81,5.59,5.96,6,5.83,5.52,5.15,4.76,4.37,4,3.66,3.34,3.05,2.8},
<a name="l00401"></a>00401 {-3,-3.31,-3.65,-4.04,-4.48,-4.96,-5.5,-6.07,-6.66,-7.22,-7.66,-7.85,-7.63,-6.79,-5.18,-2.83,0,2.83,5.18,6.79,7.63,7.85,7.66,7.22,6.66,6.07,5.5,4.96,4.48,4.04,3.65,3.31,3},
<a name="l00402"></a>00402 {-3.21,-3.56,-3.96,-4.43,-4.97,-5.59,-6.31,-7.11,-8,-8.93,-9.82,-10.49,-10.67,-9.94,-7.91,-4.44,0,4.44,7.91,9.94,10.67,10.49,9.82,8.93,8,7.11,6.31,5.59,4.97,4.43,3.96,3.56,3.21},
<a name="l00403"></a>00403 {-3.4,-3.79,-4.26,-4.81,-5.46,-6.24,-7.16,-8.25,-9.53,-11,-12.59,-14.14,-15.24,-15.13,-12.81,-7.54,0,7.54,12.81,15.13,15.24,14.14,12.59,11,9.53,8.25,7.16,6.24,5.46,4.81,4.26,3.79,3.4},
<a name="l00404"></a>00404 {-3.57,-4.01,-4.54,-5.17,-5.93,-6.86,-8,-9.42,-11.18,-13.36,-16,-19.05,-22.1,-24,-22.36,-14.27,0,14.27,22.36,24,22.1,19.05,16,13.36,11.18,9.42,8,6.86,5.93,5.17,4.54,4.01,3.57},
<a name="l00405"></a>00405 {-3.71,-4.19,-4.77,-5.47,-6.34,-7.42,-8.79,-10.54,-12.83,-15.85,-19.88,-25.22,-32,-39.28,-42.67,-31.62,0,31.62,42.67,39.28,32,25.22,19.88,15.85,12.83,10.54,8.79,7.42,6.34,5.47,4.77,4.19,3.71},
<a name="l00406"></a>00406 {-3.82,-4.33,-4.95,-5.71,-6.66,-7.87,-9.43,-11.48,-14.27,-18.14,-23.72,-32.02,-44.72,-64,-88.39,-89.44,0,89.44,88.39,64,44.72,32.02,23.72,18.14,14.27,11.48,9.43,7.87,6.66,5.71,4.95,4.33,3.82},
<a name="l00407"></a>00407 {-3.88,-4.41,-5.06,-5.87,-6.87,-8.16,-9.85,-12.12,-15.27,-19.8,-26.66,-37.71,-57.07,-94.87,-178.89,-353.55,0,353.55,178.89,94.87,57.07,37.71,26.66,19.8,15.27,12.12,9.85,8.16,6.87,5.87,5.06,4.41,3.88},
<a name="l00408"></a>00408 {-3.91,-4.44,-5.1,-5.92,-6.94,-8.26,-10,-12.35,-15.63,-20.41,-27.78,-40,-62.5,-111.11,-250,-1000,0,1000,250,111.11,62.5,40,27.78,20.41,15.63,12.35,10,8.26,6.94,5.92,5.1,4.44,3.91},
<a name="l00409"></a>00409 {-3.88,-4.41,-5.06,-5.87,-6.87,-8.16,-9.85,-12.12,-15.27,-19.8,-26.66,-37.71,-57.07,-94.87,-178.89,-353.55,0,353.55,178.89,94.87,57.07,37.71,26.66,19.8,15.27,12.12,9.85,8.16,6.87,5.87,5.06,4.41,3.88},
<a name="l00410"></a>00410 {-3.82,-4.33,-4.95,-5.71,-6.66,-7.87,-9.43,-11.48,-14.27,-18.14,-23.72,-32.02,-44.72,-64,-88.39,-89.44,0,89.44,88.39,64,44.72,32.02,23.72,18.14,14.27,11.48,9.43,7.87,6.66,5.71,4.95,4.33,3.82},
<a name="l00411"></a>00411 {-3.71,-4.19,-4.77,-5.47,-6.34,-7.42,-8.79,-10.54,-12.83,-15.85,-19.88,-25.22,-32,-39.28,-42.67,-31.62,0,31.62,42.67,39.28,32,25.22,19.88,15.85,12.83,10.54,8.79,7.42,6.34,5.47,4.77,4.19,3.71},
<a name="l00412"></a>00412 {-3.57,-4.01,-4.54,-5.17,-5.93,-6.86,-8,-9.42,-11.18,-13.36,-16,-19.05,-22.1,-24,-22.36,-14.27,0,14.27,22.36,24,22.1,19.05,16,13.36,11.18,9.42,8,6.86,5.93,5.17,4.54,4.01,3.57},
<a name="l00413"></a>00413 {-3.4,-3.79,-4.26,-4.81,-5.46,-6.24,-7.16,-8.25,-9.53,-11,-12.59,-14.14,-15.24,-15.13,-12.81,-7.54,0,7.54,12.81,15.13,15.24,14.14,12.59,11,9.53,8.25,7.16,6.24,5.46,4.81,4.26,3.79,3.4},
<a name="l00414"></a>00414 {-3.21,-3.56,-3.96,-4.43,-4.97,-5.59,-6.31,-7.11,-8,-8.93,-9.82,-10.49,-10.67,-9.94,-7.91,-4.44,0,4.44,7.91,9.94,10.67,10.49,9.82,8.93,8,7.11,6.31,5.59,4.97,4.43,3.96,3.56,3.21},
<a name="l00415"></a>00415 {-3,-3.31,-3.65,-4.04,-4.48,-4.96,-5.5,-6.07,-6.66,-7.22,-7.66,-7.85,-7.63,-6.79,-5.18,-2.83,0,2.83,5.18,6.79,7.63,7.85,7.66,7.22,6.66,6.07,5.5,4.96,4.48,4.04,3.65,3.31,3},
<a name="l00416"></a>00416 {-2.8,-3.05,-3.34,-3.66,-4,-4.37,-4.76,-5.15,-5.52,-5.83,-6,-5.96,-5.59,-4.81,-3.57,-1.91,0,1.91,3.57,4.81,5.59,5.96,6,5.83,5.52,5.15,4.76,4.37,4,3.66,3.34,3.05,2.8},
<a name="l00417"></a>00417 {-2.59,-2.8,-3.04,-3.29,-3.56,-3.83,-4.11,-4.36,-4.58,-4.72,-4.74,-4.58,-4.19,-3.51,-2.55,-1.35,0,1.35,2.55,3.51,4.19,4.58,4.74,4.72,4.58,4.36,4.11,3.83,3.56,3.29,3.04,2.8,2.59},
<a name="l00418"></a>00418 {-2.38,-2.56,-2.75,-2.95,-3.15,-3.35,-3.54,-3.7,-3.81,-3.85,-3.78,-3.58,-3.2,-2.64,-1.89,-0.99,0,0.99,1.89,2.64,3.2,3.58,3.78,3.85,3.81,3.7,3.54,3.35,3.15,2.95,2.75,2.56,2.38},
<a name="l00419"></a>00419 {-2.19,-2.33,-2.48,-2.63,-2.78,-2.92,-3.04,-3.13,-3.18,-3.16,-3.05,-2.83,-2.49,-2.02,-1.43,-0.74,0,0.74,1.43,2.02,2.49,2.83,3.05,3.16,3.18,3.13,3.04,2.92,2.78,2.63,2.48,2.33,2.19},
<a name="l00420"></a>00420 {-2,-2.12,-2.23,-2.35,-2.46,-2.55,-2.62,-2.67,-2.67,-2.61,-2.48,-2.28,-1.98,-1.59,-1.11,-0.57,0,0.57,1.11,1.59,1.98,2.28,2.48,2.61,2.67,2.67,2.62,2.55,2.46,2.35,2.23,2.12,2},
<a name="l00421"></a>00421 {-1.83,-1.92,-2.01,-2.09,-2.17,-2.23,-2.27,-2.28,-2.25,-2.17,-2.04,-1.85,-1.59,-1.26,-0.88,-0.45,0,0.45,0.88,1.26,1.59,1.85,2.04,2.17,2.25,2.28,2.27,2.23,2.17,2.09,2.01,1.92,1.83},
<a name="l00422"></a>00422 {-1.66,-1.74,-1.8,-1.86,-1.91,-1.95,-1.96,-1.95,-1.91,-1.83,-1.7,-1.52,-1.3,-1.02,-0.71,-0.36,0,0.36,0.71,1.02,1.3,1.52,1.7,1.83,1.91,1.95,1.96,1.95,1.91,1.86,1.8,1.74,1.66},
<a name="l00423"></a>00423 {-1.52,-1.57,-1.62,-1.66,-1.69,-1.71,-1.71,-1.68,-1.63,-1.54,-1.42,-1.26,-1.07,-0.84,-0.58,-0.29,0,0.29,0.58,0.84,1.07,1.26,1.42,1.54,1.63,1.68,1.71,1.71,1.69,1.66,1.62,1.57,1.52},
<a name="l00424"></a>00424 {-1.38,-1.42,-1.46,-1.48,-1.5,-1.5,-1.49,-1.45,-1.4,-1.31,-1.2,-1.06,-0.89,-0.7,-0.48,-0.24,0,0.24,0.48,0.7,0.89,1.06,1.2,1.31,1.4,1.45,1.49,1.5,1.5,1.48,1.46,1.42,1.38}
<a name="l00425"></a>00425 } ;<span class="comment">//in program memory space</span>
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 <span class="comment">// Table to compute X component for the repulsive vectors [24e]</span>
<a name="l00428"></a>00428 <span class="keywordtype">float</span> VffTableX[33][33] <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a>((space(auto_psv)))=
<a name="l00429"></a>00429 {
<a name="l00430"></a>00430 {-1.38,-1.52,-1.66,-1.83,-2.00,-2.19,-2.38,-2.59,-2.80,-3.00,-3.21,-3.40,-3.57,-3.71,-3.82,-3.88,-3.91,-3.88,-3.82,-3.71,-3.57,-3.40,-3.21,-3.00,-2.80,-2.59,-2.38,-2.19,-2.00,-1.83,-1.66,-1.52,-1.38},
<a name="l00431"></a>00431 {-1.42,-1.57,-1.74,-1.92,-2.12,-2.33,-2.56,-2.80,-3.05,-3.31,-3.56,-3.79,-4.01,-4.19,-4.33,-4.41,-4.44,-4.41,-4.33,-4.19,-4.01,-3.79,-3.56,-3.31,-3.05,-2.80,-2.56,-2.33,-2.12,-1.92,-1.74,-1.57,-1.42},
<a name="l00432"></a>00432 {-1.46,-1.62,-1.80,-2.01,-2.23,-2.48,-2.75,-3.04,-3.34,-3.65,-3.96,-4.26,-4.54,-4.77,-4.95,-5.06,-5.10,-5.06,-4.95,-4.77,-4.54,-4.26,-3.96,-3.65,-3.34,-3.04,-2.75,-2.48,-2.23,-2.01,-1.80,-1.62,-1.46},
<a name="l00433"></a>00433 {-1.48,-1.66,-1.86,-2.09,-2.35,-2.63,-2.95,-3.29,-3.66,-4.04,-4.43,-4.81,-5.17,-5.47,-5.71,-5.87,-5.92,-5.87,-5.71,-5.47,-5.17,-4.81,-4.43,-4.04,-3.66,-3.29,-2.95,-2.63,-2.35,-2.09,-1.86,-1.66,-1.48},
<a name="l00434"></a>00434 {-1.50,-1.69,-1.91,-2.17,-2.46,-2.78,-3.15,-3.56,-4.00,-4.48,-4.97,-5.46,-5.93,-6.34,-6.66,-6.87,-6.94,-6.87,-6.66,-6.34,-5.93,-5.46,-4.97,-4.48,-4.00,-3.56,-3.15,-2.78,-2.46,-2.17,-1.91,-1.69,-1.50},
<a name="l00435"></a>00435 {-1.50,-1.71,-1.95,-2.23,-2.55,-2.92,-3.35,-3.83,-4.37,-4.96,-5.59,-6.24,-6.86,-7.42,-7.87,-8.16,-8.26,-8.16,-7.87,-7.42,-6.86,-6.24,-5.59,-4.96,-4.37,-3.83,-3.35,-2.92,-2.55,-2.23,-1.95,-1.71,-1.50},
<a name="l00436"></a>00436 {-1.49,-1.71,-1.96,-2.27,-2.62,-3.04,-3.54,-4.11,-4.76,-5.50,-6.31,-7.16,-8.00,-8.79,-9.43,-9.85,-10.00,-9.85,-9.43,-8.79,-8.00,-7.16,-6.31,-5.50,-4.76,-4.11,-3.54,-3.04,-2.62,-2.27,-1.96,-1.71,-1.49},
<a name="l00437"></a>00437 {-1.45,-1.68,-1.95,-2.28,-2.67,-3.13,-3.70,-4.36,-5.15,-6.07,-7.11,-8.25,-9.42,-10.54,-11.48,-12.12,-12.35,-12.12,-11.48,-10.54,-9.42,-8.25,-7.11,-6.07,-5.15,-4.36,-3.70,-3.13,-2.67,-2.28,-1.95,-1.68,-1.45},
<a name="l00438"></a>00438 {-1.40,-1.63,-1.91,-2.25,-2.67,-3.18,-3.81,-4.58,-5.52,-6.66,-8.00,-9.53,-11.18,-12.83,-14.27,-15.27,-15.63,-15.27,-14.27,-12.83,-11.18,-9.53,-8.00,-6.66,-5.52,-4.58,-3.81,-3.18,-2.67,-2.25,-1.91,-1.63,-1.40},
<a name="l00439"></a>00439 {-1.31,-1.54,-1.83,-2.17,-2.61,-3.16,-3.85,-4.72,-5.83,-7.22,-8.93,-11.00,-13.36,-15.85,-18.14,-19.80,-20.41,-19.80,-18.14,-15.85,-13.36,-11.00,-8.93,-7.22,-5.83,-4.72,-3.85,-3.16,-2.61,-2.17,-1.83,-1.54,-1.31},
<a name="l00440"></a>00440 {-1.20,-1.42,-1.70,-2.04,-2.48,-3.05,-3.78,-4.74,-6.00,-7.66,-9.82,-12.59,-16.00,-19.88,-23.72,-26.66,-27.78,-26.66,-23.72,-19.88,-16.00,-12.59,-9.82,-7.66,-6.00,-4.74,-3.78,-3.05,-2.48,-2.04,-1.70,-1.42,-1.20},
<a name="l00441"></a>00441 {-1.06,-1.26,-1.52,-1.85,-2.28,-2.83,-3.58,-4.58,-5.96,-7.85,-10.49,-14.14,-19.05,-25.22,-32.02,-37.71,-40.00,-37.71,-32.02,-25.22,-19.05,-14.14,-10.49,-7.85,-5.96,-4.58,-3.58,-2.83,-2.28,-1.85,-1.52,-1.26,-1.06},
<a name="l00442"></a>00442 {-0.89,-1.07,-1.30,-1.59,-1.98,-2.49,-3.20,-4.19,-5.59,-7.63,-10.67,-15.24,-22.10,-32.00,-44.72,-57.07,-62.50,-57.07,-44.72,-32.00,-22.10,-15.24,-10.67,-7.63,-5.59,-4.19,-3.20,-2.49,-1.98,-1.59,-1.30,-1.07,-0.89},
<a name="l00443"></a>00443 {-0.70,-0.84,-1.02,-1.26,-1.59,-2.02,-2.64,-3.51,-4.81,-6.79,-9.94,-15.13,-24.00,-39.28,-64.00,-94.87,-111.11,-94.87,-64.00,-39.28,-24.00,-15.13,-9.94,-6.79,-4.81,-3.51,-2.64,-2.02,-1.59,-1.26,-1.02,-0.84,-0.70},
<a name="l00444"></a>00444 {-0.48,-0.58,-0.71,-0.88,-1.11,-1.43,-1.89,-2.55,-3.57,-5.18,-7.91,-12.81,-22.36,-42.67,-88.39,-178.89,-250.00,-178.89,-88.39,-42.67,-22.36,-12.81,-7.91,-5.18,-3.57,-2.55,-1.89,-1.43,-1.11,-0.88,-0.71,-0.58,-0.48},
<a name="l00445"></a>00445 {-0.24,-0.29,-0.36,-0.45,-0.57,-0.74,-0.99,-1.35,-1.91,-2.83,-4.44,-7.54,-14.27,-31.62,-89.44,-353.55,-1000.00,-353.55,-89.44,-31.62,-14.27,-7.54,-4.44,-2.83,-1.91,-1.35,-0.99,-0.74,-0.57,-0.45,-0.36,-0.29,-0.24},
<a name="l00446"></a>00446 {0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00},
<a name="l00447"></a>00447 {0.24,0.29,0.36,0.45,0.57,0.74,0.99,1.35,1.91,2.83,4.44,7.54,14.27,31.62,89.44,353.55,1000.00,353.55,89.44,31.62,14.27,7.54,4.44,2.83,1.91,1.35,0.99,0.74,0.57,0.45,0.36,0.29,0.24},
<a name="l00448"></a>00448 {0.48,0.58,0.71,0.88,1.11,1.43,1.89,2.55,3.57,5.18,7.91,12.81,22.36,42.67,88.39,178.89,250.00,178.89,88.39,42.67,22.36,12.81,7.91,5.18,3.57,2.55,1.89,1.43,1.11,0.88,0.71,0.58,0.48},
<a name="l00449"></a>00449 {0.70,0.84,1.02,1.26,1.59,2.02,2.64,3.51,4.81,6.79,9.94,15.13,24.00,39.28,64.00,94.87,111.11,94.87,64.00,39.28,24.00,15.13,9.94,6.79,4.81,3.51,2.64,2.02,1.59,1.26,1.02,0.84,0.70},
<a name="l00450"></a>00450 {0.89,1.07,1.30,1.59,1.98,2.49,3.20,4.19,5.59,7.63,10.67,15.24,22.10,32.00,44.72,57.07,62.50,57.07,44.72,32.00,22.10,15.24,10.67,7.63,5.59,4.19,3.20,2.49,1.98,1.59,1.30,1.07,0.89},
<a name="l00451"></a>00451 {1.06,1.26,1.52,1.85,2.28,2.83,3.58,4.58,5.96,7.85,10.49,14.14,19.05,25.22,32.02,37.71,40.00,37.71,32.02,25.22,19.05,14.14,10.49,7.85,5.96,4.58,3.58,2.83,2.28,1.85,1.52,1.26,1.06},
<a name="l00452"></a>00452 {1.20,1.42,1.70,2.04,2.48,3.05,3.78,4.74,6.00,7.66,9.82,12.59,16.00,19.88,23.72,26.66,27.78,26.66,23.72,19.88,16.00,12.59,9.82,7.66,6.00,4.74,3.78,3.05,2.48,2.04,1.70,1.42,1.20},
<a name="l00453"></a>00453 {1.31,1.54,1.83,2.17,2.61,3.16,3.85,4.72,5.83,7.22,8.93,11.00,13.36,15.85,18.14,19.80,20.41,19.80,18.14,15.85,13.36,11.00,8.93,7.22,5.83,4.72,3.85,3.16,2.61,2.17,1.83,1.54,1.31},
<a name="l00454"></a>00454 {1.40,1.63,1.91,2.25,2.67,3.18,3.81,4.58,5.52,6.66,8.00,9.53,11.18,12.83,14.27,15.27,15.63,15.27,14.27,12.83,11.18,9.53,8.00,6.66,5.52,4.58,3.81,3.18,2.67,2.25,1.91,1.63,1.40},
<a name="l00455"></a>00455 {1.45,1.68,1.95,2.28,2.67,3.13,3.70,4.36,5.15,6.07,7.11,8.25,9.42,10.54,11.48,12.12,12.35,12.12,11.48,10.54,9.42,8.25,7.11,6.07,5.15,4.36,3.70,3.13,2.67,2.28,1.95,1.68,1.45},
<a name="l00456"></a>00456 {1.49,1.71,1.96,2.27,2.62,3.04,3.54,4.11,4.76,5.50,6.31,7.16,8.00,8.79,9.43,9.85,10.00,9.85,9.43,8.79,8.00,7.16,6.31,5.50,4.76,4.11,3.54,3.04,2.62,2.27,1.96,1.71,1.49},
<a name="l00457"></a>00457 {1.50,1.71,1.95,2.23,2.55,2.92,3.35,3.83,4.37,4.96,5.59,6.24,6.86,7.42,7.87,8.16,8.26,8.16,7.87,7.42,6.86,6.24,5.59,4.96,4.37,3.83,3.35,2.92,2.55,2.23,1.95,1.71,1.50},
<a name="l00458"></a>00458 {1.50,1.69,1.91,2.17,2.46,2.78,3.15,3.56,4.00,4.48,4.97,5.46,5.93,6.34,6.66,6.87,6.94,6.87,6.66,6.34,5.93,5.46,4.97,4.48,4.00,3.56,3.15,2.78,2.46,2.17,1.91,1.69,1.50},
<a name="l00459"></a>00459 {1.48,1.66,1.86,2.09,2.35,2.63,2.95,3.29,3.66,4.04,4.43,4.81,5.17,5.47,5.71,5.87,5.92,5.87,5.71,5.47,5.17,4.81,4.43,4.04,3.66,3.29,2.95,2.63,2.35,2.09,1.86,1.66,1.48},
<a name="l00460"></a>00460 {1.46,1.62,1.80,2.01,2.23,2.48,2.75,3.04,3.34,3.65,3.96,4.26,4.54,4.77,4.95,5.06,5.10,5.06,4.95,4.77,4.54,4.26,3.96,3.65,3.34,3.04,2.75,2.48,2.23,2.01,1.80,1.62,1.46},
<a name="l00461"></a>00461 {1.42,1.57,1.74,1.92,2.12,2.33,2.56,2.80,3.05,3.31,3.56,3.79,4.01,4.19,4.33,4.41,4.44,4.41,4.33,4.19,4.01,3.79,3.56,3.31,3.05,2.80,2.56,2.33,2.12,1.92,1.74,1.57,1.42},
<a name="l00462"></a>00462 {1.38,1.52,1.66,1.83,2.00,2.19,2.38,2.59,2.80,3.00,3.21,3.40,3.57,3.71,3.82,3.88,3.91,3.88,3.82,3.71,3.57,3.40,3.21,3.00,2.80,2.59,2.38,2.19,2.00,1.83,1.66,1.52,1.38}
<a name="l00463"></a>00463 } ;<span class="comment">//in program memory space</span>
<a name="l00464"></a>00464 
<a name="l00465"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a85a3e357f6f89751d9bcdf90b53a6fa8">00465</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a85a3e357f6f89751d9bcdf90b53a6fa8">VObX</a>[3];  <span class="comment">// relative position of obstacles</span>
<a name="l00466"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a8915a283f3341051387c496eb376a494">00466</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a8915a283f3341051387c496eb376a494">VObY</a>[3];
<a name="l00467"></a>00467 
<a name="l00468"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a715040b202d0ca821b605d16197b96d5">00468</a> tPID <a class="code" href="ds_p_i_d33__definitions_8h.html#a715040b202d0ca821b605d16197b96d5">DistPIDstruct</a>;
<a name="l00469"></a>00469 fractional DistabcCoefficient[3] 
<a name="l00470"></a>00470         <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.xbss, bss, xmemory&quot;</span>)));
<a name="l00471"></a>00471 fractional DistcontrolHistory[3] 
<a name="l00472"></a>00472         <a class="code" href="com_8c.html#a257b528f424a3d46f9842346fe9221d3">__attribute__</a> ((section (<span class="stringliteral">&quot;.ybss, bss, ymemory&quot;</span>)));
<a name="l00473"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a67cdd7dca12b7f9968a16d3f6b192005">00473</a> fractional <a class="code" href="ds_p_i_d33__definitions_8h.html#a67cdd7dca12b7f9968a16d3f6b192005">DistKCoeffs</a>[] = {0,0,0};
<a name="l00474"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6eb9abd4c03c2bb9858333427ffc082b">00474</a> <span class="preprocessor">#define DIST_KP DistKCoeffs[0]                                          // K parameters</span>
<a name="l00475"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9921840de098c5213a3e8a70a5d79434">00475</a> <span class="preprocessor"></span><span class="preprocessor">#define DIST_KI DistKCoeffs[1]</span>
<a name="l00476"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ab8c0a30e2075f94c9f5e9b6a8e08a94f">00476</a> <span class="preprocessor"></span><span class="preprocessor">#define DIST_KD DistKCoeffs[2]</span>
<a name="l00477"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a027d83a57a888a2d8156847c4c494f8e">00477</a> <span class="preprocessor"></span><span class="preprocessor">#define DIST_PID_DES DistPIDstruct.controlReference     // desired distance</span>
<a name="l00478"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5ee3558b37ea6b4231e7a2bc3910a117">00478</a> <span class="preprocessor"></span><span class="preprocessor">#define DIST_PID_MES DistPIDstruct.measuredOutput       // measured distance</span>
<a name="l00479"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a651f9a68ebf4bf0bb1e2590a430e7dde">00479</a> <span class="preprocessor"></span><span class="preprocessor">#define DIST_PID_OUT DistPIDstruct.controlOutput        // PID output</span>
<a name="l00480"></a>00480 <span class="preprocessor"></span>
<a name="l00481"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#add50f4fe20c4b7e50241cb3579f7ef34">00481</a> <span class="preprocessor">#define DIST_ENABLE_FLAG VARbits1.bit14                 // compute distance if enabled</span>
<a name="l00482"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a2635a2a8a96cbdbb51082800d9721d7e">00482</a> <span class="preprocessor"></span><span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a2635a2a8a96cbdbb51082800d9721d7e">PosXdes</a> = 0;              <span class="comment">// desired X position coordinate</span>
<a name="l00483"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a1baf79cb6ce6068c5da1478564220ef8">00483</a> <span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a1baf79cb6ce6068c5da1478564220ef8">PosYdes</a> = 0;              <span class="comment">// desired Y position coordinate</span>
<a name="l00484"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a07122fde28e925b71a5b68b8827e62f8">00484</a> <span class="preprocessor">#define MIN_GOAL_DIST 450       // if less then decrease speed proportionally</span>
<a name="l00485"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a08d2374c81ae443f81f98910a948e334">00485</a> <span class="preprocessor"></span><span class="keywordtype">float</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a08d2374c81ae443f81f98910a948e334">VelDecr</a>;  <span class="comment">// multiplied by VelDesM correct the speed [24d]</span>
<a name="l00486"></a>00486 
<a name="l00487"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#af7ea439aef95c4e0dc878c1411c0eb16">00487</a> <span class="preprocessor">#define DIST_OK_FLAG VARbits1.bit11     // target distance reached</span>
<a name="l00488"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aedd6e124730bfe1673b03e189cff590b">00488</a> <span class="preprocessor"></span><span class="preprocessor">#define MIN_DIST_ERR 3                          // acceptable distance error in mm</span>
<a name="l00489"></a>00489 <span class="preprocessor"></span>
<a name="l00490"></a>00490 <span class="comment">// slower cycles setting [13]   </span>
<a name="l00491"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0a2f7948d9868f999b43741f0ba82750">00491</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a0a2f7948d9868f999b43741f0ba82750">Cycle1</a>;
<a name="l00492"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ae49c420b00c8440683da20d4078ffedd">00492</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ae49c420b00c8440683da20d4078ffedd">Cycle2</a>;
<a name="l00493"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a046ceb5294473f63ac9554e05db73dba">00493</a> <span class="preprocessor">#define CYCLE1_FLAG VOLbits1.bit2</span>
<a name="l00494"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#af0dcd631114229755ad63f9b08af523e">00494</a> <span class="preprocessor"></span><span class="preprocessor">#define CYCLE2_FLAG VOLbits1.bit3</span>
<a name="l00495"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ab1cfea5020160ee121f9c5ae019ba7a7">00495</a> <span class="preprocessor"></span><span class="preprocessor">#define CICLE1_TMO 10           // starts first cycle every Xms</span>
<a name="l00496"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a39cc0f6f866b6ed2814ae776eb90bfbc">00496</a> <span class="preprocessor"></span><span class="preprocessor">#define CICLE2_TMO 5            // starts second cycle every N first cycle times</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span>
<a name="l00498"></a>00498 <span class="comment">// Idle time [25]</span>
<a name="l00499"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9bab2e9adf859d28f537ddab34e75d67">00499</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a9bab2e9adf859d28f537ddab34e75d67">IdleCount</a> = 0;    <span class="comment">// how many times it executes main loop</span>
<a name="l00500"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a11910bdc7598cd4e2c1f73f3911b62f0">00500</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a11910bdc7598cd4e2c1f73f3911b62f0">IdleSample</a>=0;<span class="comment">//sampling time to compute idle percentage</span>
<a name="l00501"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ab36bb70e131c783a747325e588bf0a34">00501</a> <span class="preprocessor">#define IDLE_CYCLE 20   </span>
<a name="l00502"></a>00502 <span class="preprocessor"></span><span class="comment">// LOOP_TIME = CICLE1_TMO * CICLE2_TMO  = 50ms  </span>
<a name="l00503"></a>00503 <span class="comment">// so -&gt; IDLE_SAMPLE_TIME = LOOP_TIME * IDLE_CYCLE = 1000ms </span>
<a name="l00504"></a>00504 <span class="comment">// in order to have percentage as int IDLE_SAMPLE_TIME * 10,000</span>
<a name="l00505"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7e21a157f4758922399b6dc487566bed">00505</a> <span class="preprocessor">#define IDLE_SAMPLE_TIME 10000000</span>
<a name="l00506"></a>00506 <span class="preprocessor"></span><span class="comment">// time in ns to execute main without any call</span>
<a name="l00507"></a>00507 <span class="comment">// measured with stopwatch in SIM [25a]</span>
<a name="l00508"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aecca912ee2f5ca10c0156899a2cc9a58">00508</a> <span class="preprocessor">#define IDLE_TIME_PERIOD 3000   // without optimizations</span>
<a name="l00509"></a>00509 <span class="preprocessor"></span><span class="comment">// #define IDLE_TIME_PERIOD 2225        // with optimizations 3</span>
<a name="l00510"></a>00510 <span class="comment">// #define IDLE_TIME_PERIOD 2525        // with optimizations s</span>
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a65ea6158de06fbcef0bbac3b2dd0971f">00512</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a65ea6158de06fbcef0bbac3b2dd0971f">IdlePerc</a>;                             <span class="comment">// idle percentage</span>
<a name="l00513"></a>00513 
<a name="l00514"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9c9d42cf8b66102e2b24a182594f6211">00514</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="com_8h.html#a9c9d42cf8b66102e2b24a182594f6211">BlinkPeriod</a> ;     <span class="comment">// LED1 blinking period (ms)</span>
<a name="l00515"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abd61f9304bb5c6902bc8b45a818e2f87">00515</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="com_8h.html#abd61f9304bb5c6902bc8b45a818e2f87">BlinkOn</a>;           <span class="comment">// LED1 on time (ms)</span>
<a name="l00516"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa9bf532ae58ec32b8b1cef6fd9af7fb8">00516</a> <span class="preprocessor">#define NORM_BLINK_PER 1000     // Period for OK condition</span>
<a name="l00517"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a29a7a2eb33d76c77b362c97a95f257e6">00517</a> <span class="preprocessor"></span><span class="preprocessor">#define NORM_BLINK_ON   200     // ON TIME for OK condition</span>
<a name="l00518"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a03700e966880fcf8b29ba4c0a87510cf">00518</a> <span class="preprocessor"></span><span class="preprocessor">#define K_ERR_BLINK_PER 4000// Period for ERR condition</span>
<a name="l00519"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5a0a14e11851ac5f1f0a56ba781fd023">00519</a> <span class="preprocessor"></span><span class="preprocessor">#define K_ERR_BLINK_ON 2000     // ON TIME for ERR condition</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span>
<a name="l00521"></a>00521 
<a name="l00522"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a32e48d54597556ccd285249131884184">00522</a> <span class="keywordtype">int</span> <a class="code" href="com_8h.html#a32e48d54597556ccd285249131884184">ErrCode</a>;                            <span class="comment">// Error Code</span>
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#adc382dfec1b16542454c8762cef67ff8">00524</a> <span class="preprocessor">#define CONSOLE_DEBUG VARbits1.bit13 // [30]</span>
<a name="l00525"></a>00525 <span class="preprocessor"></span>
<a name="l00526"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a8edcc871388697294a89b7c58920cb1c">00526</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a8edcc871388697294a89b7c58920cb1c">VelInt</a>[2];                  <span class="comment">// speed in mm/s as an integer</span>
<a name="l00527"></a>00527 
<a name="l00528"></a>00528 <span class="comment">// Scheduler</span>
<a name="l00529"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa5307d2fde19360b47fe9bad0be299e4">00529</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#aa5307d2fde19360b47fe9bad0be299e4">SchedPtr</a> = 0;     <span class="comment">// point to current step into the sequence</span>
<a name="l00530"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aac600120fd5a9765c7885a35e55a8b00">00530</a> <span class="preprocessor">#define SCHED_ANGLE_FLAG VARbits1.bit8  // wait for target angle</span>
<a name="l00531"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a531d0613e1d07e256d85f17942987279">00531</a> <span class="preprocessor"></span><span class="preprocessor">#define SCHED_DIST_FLAG VARbits1.bit0   // wait for target distance</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span>
<a name="l00533"></a>00533 <span class="comment">/*</span>
<a name="l00534"></a>00534 <span class="comment">// sequence array initialized for a 360° turn cw in 4 steps</span>
<a name="l00535"></a>00535 <span class="comment">int SchedValues[16][4]= {               {6,100,0,0},</span>
<a name="l00536"></a>00536 <span class="comment">                                                                {3,0,90,0},</span>
<a name="l00537"></a>00537 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00538"></a>00538 <span class="comment">                                                                {3,0,180,0},</span>
<a name="l00539"></a>00539 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00540"></a>00540 <span class="comment">                                                                {3,0,270,0},</span>
<a name="l00541"></a>00541 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00542"></a>00542 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00543"></a>00543 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00544"></a>00544 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00545"></a>00545 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00546"></a>00546 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00547"></a>00547 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00548"></a>00548 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00549"></a>00549 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00550"></a>00550 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00551"></a>00551 <span class="comment">*/</span>
<a name="l00552"></a>00552 <span class="comment">/*</span>
<a name="l00553"></a>00553 <span class="comment">// sequence array initialized for a 360° turn ccw in 4 steps</span>
<a name="l00554"></a>00554 <span class="comment">int SchedValues[16][4]= {               {6,100,0,0},</span>
<a name="l00555"></a>00555 <span class="comment">                                                                {3,0,270,0},</span>
<a name="l00556"></a>00556 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00557"></a>00557 <span class="comment">                                                                {3,0,180,0},</span>
<a name="l00558"></a>00558 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00559"></a>00559 <span class="comment">                                                                {3,0,90,0},</span>
<a name="l00560"></a>00560 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00561"></a>00561 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00562"></a>00562 <span class="comment">                                                                {6,50,0,0},</span>
<a name="l00563"></a>00563 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00564"></a>00564 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00565"></a>00565 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00566"></a>00566 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00567"></a>00567 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00568"></a>00568 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00569"></a>00569 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00570"></a>00570 <span class="comment">*/</span>                                                                                                                              
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 <span class="comment">// sequence array initialized for a mini UMBmark of 1m x 1m CW</span>
<a name="l00573"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a831259b09f3c789ef0f6829623aa65e0">00573</a> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a831259b09f3c789ef0f6829623aa65e0">SchedValues</a>[16][4]= {               {6,100,0,0},
<a name="l00574"></a>00574                                                                 {4,0,0,1000},
<a name="l00575"></a>00575                                                                 {5,300,0,1000},
<a name="l00576"></a>00576                                                                 {4,0,1000,1000},
<a name="l00577"></a>00577                                                                 {5,300,1000,1000},
<a name="l00578"></a>00578                                                                 {4,0,1000,0},
<a name="l00579"></a>00579                                                                 {5,300,1000,0},
<a name="l00580"></a>00580                                                                 {4,0,0,0},
<a name="l00581"></a>00581                                                                 {5,300,0,0},
<a name="l00582"></a>00582                                                                 {6,80,0,0},
<a name="l00583"></a>00583                                                                 {3,0,0,0},
<a name="l00584"></a>00584                                                                 {0,0,0,0},
<a name="l00585"></a>00585                                                                 {0,0,0,0},
<a name="l00586"></a>00586                                                                 {0,0,0,0},
<a name="l00587"></a>00587                                                                 {0,0,0,0},
<a name="l00588"></a>00588                                                                 {0,0,0,0} };    
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 <span class="comment">/*</span>
<a name="l00591"></a>00591 <span class="comment">// sequence array initialized for a mini UMBmark of 2.5m x 3.5m CCW</span>
<a name="l00592"></a>00592 <span class="comment">// point the robot to 90°</span>
<a name="l00593"></a>00593 <span class="comment">int SchedValues[16][4]= {               {6,100,0,0},</span>
<a name="l00594"></a>00594 <span class="comment">                                                                {4,0,0,2500},</span>
<a name="l00595"></a>00595 <span class="comment">                                                                {5,300,0,2500},</span>
<a name="l00596"></a>00596 <span class="comment">                                                                {4,0,-3500,2500},</span>
<a name="l00597"></a>00597 <span class="comment">                                                                {5,300,-3500,2500},</span>
<a name="l00598"></a>00598 <span class="comment">                                                                {4,0,-3500,0},</span>
<a name="l00599"></a>00599 <span class="comment">                                                                {5,300,-3500,0},</span>
<a name="l00600"></a>00600 <span class="comment">                                                                {4,0,0,0},</span>
<a name="l00601"></a>00601 <span class="comment">                                                                {5,300,0,0},</span>
<a name="l00602"></a>00602 <span class="comment">                                                                {6,80,0,0},</span>
<a name="l00603"></a>00603 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00604"></a>00604 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00605"></a>00605 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00606"></a>00606 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00607"></a>00607 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00608"></a>00608 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00609"></a>00609 <span class="comment">*/</span>                                              
<a name="l00610"></a>00610 <span class="comment">/*                                                              </span>
<a name="l00611"></a>00611 <span class="comment">// sequence array initialized for a maxi UMBmark of 4m forward</span>
<a name="l00612"></a>00612 <span class="comment">int SchedValues[16][4]= {               {6,100,0,0},</span>
<a name="l00613"></a>00613 <span class="comment">                                                                {4,0,0,4000},</span>
<a name="l00614"></a>00614 <span class="comment">                                                                {5,300,0,4000},</span>
<a name="l00615"></a>00615 <span class="comment">                                                                {4,0,4000,4000},</span>
<a name="l00616"></a>00616 <span class="comment">                                                                {5,300,4000,4000},</span>
<a name="l00617"></a>00617 <span class="comment">                                                                {4,0,4000,0},</span>
<a name="l00618"></a>00618 <span class="comment">                                                                {5,300,4000,0},</span>
<a name="l00619"></a>00619 <span class="comment">                                                                {4,0,0,0},</span>
<a name="l00620"></a>00620 <span class="comment">                                                                {5,300,0,0},</span>
<a name="l00621"></a>00621 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00622"></a>00622 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00623"></a>00623 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00624"></a>00624 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00625"></a>00625 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00626"></a>00626 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00627"></a>00627 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00628"></a>00628 <span class="comment">*/</span>                                                              
<a name="l00629"></a>00629 <span class="comment">/*</span>
<a name="l00630"></a>00630 <span class="comment">// sequence array initialized for a UMBmark of 4m reward</span>
<a name="l00631"></a>00631 <span class="comment">int SchedValues[16][4]= {               {6,100,0,0},</span>
<a name="l00632"></a>00632 <span class="comment">                                                                {4,0,4000,0},</span>
<a name="l00633"></a>00633 <span class="comment">                                                                {5,300,4000,0},</span>
<a name="l00634"></a>00634 <span class="comment">                                                                {4,0,4000,4000},</span>
<a name="l00635"></a>00635 <span class="comment">                                                                {5,300,4000,4000},</span>
<a name="l00636"></a>00636 <span class="comment">                                                                {4,0,0,4000},</span>
<a name="l00637"></a>00637 <span class="comment">                                                                {5,300,0,4000},</span>
<a name="l00638"></a>00638 <span class="comment">                                                                {4,0,0,0},</span>
<a name="l00639"></a>00639 <span class="comment">                                                                {5,300,0,0},</span>
<a name="l00640"></a>00640 <span class="comment">                                                                {6,80,0,0},</span>
<a name="l00641"></a>00641 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00642"></a>00642 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00643"></a>00643 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00644"></a>00644 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00645"></a>00645 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00646"></a>00646 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00647"></a>00647 <span class="comment">*/</span>
<a name="l00648"></a>00648 <span class="comment">/*</span>
<a name="l00649"></a>00649 <span class="comment">// sequence array initialized for a 10m straight forward</span>
<a name="l00650"></a>00650 <span class="comment">int SchedValues[16][4]= {               {6,50,0,0},</span>
<a name="l00651"></a>00651 <span class="comment">                                                                {5,300,0,10000},</span>
<a name="l00652"></a>00652 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00653"></a>00653 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00654"></a>00654 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00655"></a>00655 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00656"></a>00656 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00657"></a>00657 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00658"></a>00658 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00659"></a>00659 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00660"></a>00660 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00661"></a>00661 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00662"></a>00662 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00663"></a>00663 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00664"></a>00664 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00665"></a>00665 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00666"></a>00666 <span class="comment">*/</span>
<a name="l00667"></a>00667 <span class="comment">/*</span>
<a name="l00668"></a>00668 <span class="comment">// sequence array initialized for a RTC 10m diagonal</span>
<a name="l00669"></a>00669 <span class="comment">int SchedValues[16][4]= {               {6,100,0,0},</span>
<a name="l00670"></a>00670 <span class="comment">                                                                {4,0,7200,7200},</span>
<a name="l00671"></a>00671 <span class="comment">                                                                {5,300,7200,7200},</span>
<a name="l00672"></a>00672 <span class="comment">                                                                {4,0,0,0},</span>
<a name="l00673"></a>00673 <span class="comment">                                                                {5,300,0,0},</span>
<a name="l00674"></a>00674 <span class="comment">                                                                {3,0,0,0},</span>
<a name="l00675"></a>00675 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00676"></a>00676 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00677"></a>00677 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00678"></a>00678 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00679"></a>00679 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00680"></a>00680 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00681"></a>00681 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00682"></a>00682 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00683"></a>00683 <span class="comment">                                                                {0,0,0,0},</span>
<a name="l00684"></a>00684 <span class="comment">                                                                {0,0,0,0} };</span>
<a name="l00685"></a>00685 <span class="comment">*/</span>
<a name="l00686"></a>00686 
<a name="l00687"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9143ee7b83c3016f37b301761c2d0ae6">00687</a> <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a9143ee7b83c3016f37b301761c2d0ae6">RtTimer</a>;                           <span class="comment">// real time delay using T1 timer</span>
<a name="l00688"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a6ce32b0adb9261aebe9c582fe98403b0">00688</a> <span class="preprocessor">#define RT_TIMER_FLAG VARbits1.bit10     // real time timer enable</span>
<a name="l00689"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a373d3f761ff9c5fff2a44aaec95bf73c">00689</a> <span class="preprocessor"></span><span class="preprocessor">#define TIMER_OK_FLAG VARbits1.bit9      // time elapsed </span>
<a name="l00690"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ade662f9c9608f2332ec7ff34e5f06e4a">00690</a> <span class="preprocessor"></span><span class="preprocessor">#define SCHEDULER_FLAG VARbits1.bit5 // enable scheduler [32a]</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span>
<a name="l00692"></a>00692 <span class="comment">// dist in cm from objects on the three sides</span>
<a name="l00693"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a53f3c247edf8c7d02a8d48f4b42f7a3b">00693</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#a53f3c247edf8c7d02a8d48f4b42f7a3b">Obj</a>[3] = {0x1000, 0x1000, 0x1000};
<a name="l00694"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#adff81fa529260759dbe72be8c1bdbdf7">00694</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#adff81fa529260759dbe72be8c1bdbdf7">Target</a>[3] = {0, 0, 0};<span class="comment">//highest sensor value on the three sides</span>
<a name="l00695"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ae975c59a80fa66f26da4c9d364bc067f">00695</a> <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ae975c59a80fa66f26da4c9d364bc067f">RndTimer</a>=0;<span class="comment">// Timer for randomly avoid central obstacles</span>
<a name="l00696"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ac628408e8faf9fbb7d102c46a30e8008">00696</a> <span class="preprocessor">#define RND_TIMEOUT 100         // 100 * 50ms = 5 seconds</span>
<a name="l00697"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a47a20fdd955ac733b97599c25cea845f">00697</a> <span class="preprocessor"></span><span class="preprocessor">#define RND_FLAG VARbits1.bit4 // randomly decide in which direction to turn</span>
<a name="l00698"></a>00698 <span class="preprocessor"></span>
<a name="l00699"></a>00699 <span class="comment">// simulated EEPROM data addresses [33]</span>
<a name="l00700"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a30eb60bbf768c306838dc3c61bc20b6a">00700</a> <span class="preprocessor">#define EE_KVEL1_H 0</span>
<a name="l00701"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a24c62e95b3d61ec5610cefa6c6b9c9bf">00701</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KVEL1_L 1</span>
<a name="l00702"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa6db32bf36392fea216d6333f582b8b7">00702</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KVEL2_H 2</span>
<a name="l00703"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a5a0c7445850a7855d6a3ddfac4974d33">00703</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KVEL2_L 3</span>
<a name="l00704"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abfff75987b4efe2306c6d7dd3db42e91">00704</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_CHK_KVEL 4</span>
<a name="l00705"></a>00705 <span class="preprocessor"></span>
<a name="l00706"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a9b9f409a9bc869aafbde19885b8326a5">00706</a> <span class="preprocessor">#define EE_ANGLE_KP 5   </span>
<a name="l00707"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ad14fda74b8128e7250c1f3abd929aade">00707</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_ANGLE_KI 6           </span>
<a name="l00708"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#af52df92bd4d7c249255e6312108ee544">00708</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_ANGLE_KD 7</span>
<a name="l00709"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#afdd825ccedea81546f1c4deeb04439bd">00709</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_CHK_ANGLE 8</span>
<a name="l00710"></a>00710 <span class="preprocessor"></span>
<a name="l00711"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0c55ea3d3f295e10bfa3cc68f46b725b">00711</a> <span class="preprocessor">#define EE_KP1 9</span>
<a name="l00712"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7d688f68ec4bb55d1e7c7635e9a4eced">00712</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KI1 10</span>
<a name="l00713"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a36bbd3d80231c2983c91dba3d8f03597">00713</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KD1 11</span>
<a name="l00714"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a44be0fb106e81ceb006673c95286b31e">00714</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KP2 12</span>
<a name="l00715"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a30f71dda0d2f653b8352e09f2ab4c31d">00715</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KI2 13</span>
<a name="l00716"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a683b81d63101ce00ecfb414dc1e28193">00716</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KD2 14</span>
<a name="l00717"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#af73d4c0cec016550ce248ada634f65c9">00717</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_CHK_SPEED 15</span>
<a name="l00718"></a>00718 <span class="preprocessor"></span>
<a name="l00719"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a17f833fda13a712b1a1f519656878bdf">00719</a> <span class="preprocessor">#define EE_KSP1_H 16</span>
<a name="l00720"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a76b24bd1c5b96fff7a8dc81a8757e47b">00720</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KSP1_L 17</span>
<a name="l00721"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#abc091fd5685b28694aaaa20b337e7c08">00721</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KSP2_H 18</span>
<a name="l00722"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a587522af961f06270208e2bb30532856">00722</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_KSP2_L 19</span>
<a name="l00723"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7dde2efdd67544d00f8b30c3f755b779">00723</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_AXLE_H 20</span>
<a name="l00724"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7df2d5424fb36a3fc7e585a23b830825">00724</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_AXLE_L 21</span>
<a name="l00725"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a30de59f6d3ad201cf79752d12c60158d">00725</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_CHK_MECH 22</span>
<a name="l00726"></a>00726 <span class="preprocessor"></span>
<a name="l00727"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a537065f445575f12000147ac6c8d8584">00727</a> <span class="preprocessor">#define EE_DIST_KP 23   </span>
<a name="l00728"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#aa8af7e82a7307586c9d7b9f13766fe14">00728</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_DIST_KI 24           </span>
<a name="l00729"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a3cb4d269dc361abbdfe41a3de7a33e47">00729</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_DIST_KD 25</span>
<a name="l00730"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a1387301e05aad292458f92d900c917b5">00730</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_CHK_DIST 26</span>
<a name="l00731"></a>00731 <span class="preprocessor"></span>
<a name="l00732"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a0d4a4184349b3adbf8ce777a171cf3f0">00732</a> <span class="preprocessor">#define EE_CHK_SCHED 27</span>
<a name="l00733"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#a7475c25cfc5dcc77e47927d4ab6bb08b">00733</a> <span class="preprocessor"></span><span class="preprocessor">#define EE_SCHED 28     // starting address for 128 locations</span>
<a name="l00734"></a>00734 <span class="preprocessor"></span>
<a name="l00735"></a><a class="code" href="ds_p_i_d33__definitions_8h.html#ae1262a92a316b9a38cf32badf9e3025e">00735</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="ds_p_i_d33__definitions_8h.html#ae1262a92a316b9a38cf32badf9e3025e">ResetCount</a> = 0;   <span class="comment">// [28]</span>
<a name="l00736"></a>00736 
<a name="l00737"></a>00737 <span class="comment">// VARbits2.bit0 and up available</span>
<a name="l00738"></a>00738 <span class="comment">// VOLbits1.bit9 and up available</span>
<a name="l00739"></a>00739 
<a name="l00740"></a>00740 <span class="comment">/* Definitions end ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/</span>
<a name="l00741"></a>00741 
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ds_p_i_d33__definitions_8h.html">dsPID33_definitions.h</a>      </li>
<html>

	<head>
<meta name=Titolo content=dsNavCon>
<meta name="Parole chiave" content="">
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="../dsNavCon/dsNavCon_file/filelist.xml">
<title>dsNavCon Odometry</title>

<style id="dynCom" type="text/css"><!-- --></style>
<script language="JavaScript"><!--
function msoCommentShow(anchor_id, com_id)
{
	if(msoBrowserCheck()) 
		{
		c = document.all(com_id);
		if (null != c)
			{
			a = document.all(anchor_id);
			var cw = c.offsetWidth;
			var ch = c.offsetHeight;
			var aw = a.offsetWidth;
			var ah = a.offsetHeight;
			var x  = a.offsetLeft;
			var y  = a.offsetTop;
			var el = a;
			while (el.tagName != "BODY") 
				{
				el = el.offsetParent;
				x = x + el.offsetLeft;
				y = y + el.offsetTop;
				}
			var bw = document.body.clientWidth;
			var bh = document.body.clientHeight;
			var bsl = document.body.scrollLeft;
			var bst = document.body.scrollTop;
			if (x + cw + ah / 2 > bw + bsl && x + aw - ah / 2 - cw >= bsl ) 
				{ c.style.left = x + aw - ah / 2 - cw; }
			else 
				{ c.style.left = x + ah / 2; }
			if (y + ch + ah / 2 > bh + bst && y + ah / 2 - ch >= bst ) 
				{ c.style.top = y + ah / 2 - ch; }
			else 
				{ c.style.top = y + ah / 2; }
			c.style.visibility = "visible";
}	}	}
function msoCommentHide(com_id) 
{
	if(msoBrowserCheck())
		{
		c = document.all(com_id);
		if (null != c)
		{
		c.style.visibility = "hidden";
		c.style.left = -1000;
		c.style.top = -1000;
		} } 
}
function msoBrowserCheck()
{
	ms = navigator.appVersion.indexOf("MSIE");
	vers = navigator.appVersion.substring(ms + 5, ms + 6);
	ie4 = (ms > 0) && (parseInt(vers) >= 4);
	return ie4;
}
if (msoBrowserCheck())
{
	document.styleSheets.dynCom.addRule(".msocomanchor","background: infobackground");
	document.styleSheets.dynCom.addRule(".msocomoff","display: none");
	document.styleSheets.dynCom.addRule(".msocomtxt","visibility: hidden");
	document.styleSheets.dynCom.addRule(".msocomtxt","position: absolute");
	document.styleSheets.dynCom.addRule(".msocomtxt","top: -1000");
	document.styleSheets.dynCom.addRule(".msocomtxt","left: -1000");
	document.styleSheets.dynCom.addRule(".msocomtxt","width: 33%");
	document.styleSheets.dynCom.addRule(".msocomtxt","background: infobackground");
	document.styleSheets.dynCom.addRule(".msocomtxt","color: infotext");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-top: 1pt solid threedlightshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-right: 2pt solid threedshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-bottom: 2pt solid threedshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-left: 1pt solid threedlightshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","padding: 3pt 3pt 3pt 3pt");
}
// --></script>
<style><!--
 /* Font Definitions */
@font-face
	{font-family:"Times New Roman";
	panose-1:0 2 2 6 3 5 4 5 2 3;}
@font-face
	{font-family:"Courier New";
	panose-1:0 2 7 3 9 2 2 5 2 4;}
@font-face
	{font-family:Wingdings;
	panose-1:0 5 2 1 2 1 8 4 8 7;}
@font-face
	{font-family:"ï¼­ï¼³ ææ";}
@font-face
	{font-family:Optima;
	panose-1:0 2 0 5 3 6 0 0 2 0;}
@font-face
	{font-family:"Lucida Grande";}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
h1
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:0cm;
	tab-stops:list 18.0pt;
	font-size:36.0pt;
	font-family:Optima;}
h2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-indent:0cm;
	mso-line-height-alt:17.0pt;
	tab-stops:31.2pt list 36.0pt;
	font-size:18.0pt;
	font-family:Optima;}
h3
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-indent:14.2pt;
	line-height:17.0pt;
	tab-stops:48.2pt list 50.2pt;
	font-size:14.0pt;
	font-family:Optima;
	color:black;}
h4
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:43.2pt;
	text-indent:-14.85pt;
	line-height:17.0pt;
	tab-stops:48.2pt list 64.35pt;
	font-size:12.0pt;
	font-family:Optima;
	color:black;}
h5
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:50.4pt;
	text-indent:-22.05pt;
	line-height:17.0pt;
	tab-stops:list 64.35pt left 90.7pt 99.25pt;
	font-size:12.0pt;
	font-family:Optima;
	color:black;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:36.0pt;
	font-family:Optima;
	font-style:italic;
	font-weight:bold;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0cm;
	margin-bottom:.0001pt;
	tab-stops:center 240.95pt right 481.9pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
span.MsoCommentReference
	{font-size:9.0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:18.0pt;
	font-family:Optima;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:Courier;}
table.MsoNormalTable
	{font-size:10.0pt;
	font-family:"Times New Roman";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
p.Titolone, li.Titolone, div.Titolone
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.6pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.6pt;
	mso-line-height-alt:17.0pt;
	tab-stops:list 21.6pt;
	font-size:36.0pt;
	font-family:Optima;
	font-weight:bold;}
p.Glossario1, li.Glossario1, div.Glossario1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	mso-line-height-alt:17.0pt;
	tab-stops:31.2pt;
	font-size:18.0pt;
	font-family:Optima;
	font-weight:bold;}
p.Glossario2, li.Glossario2, div.Glossario2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	line-height:17.0pt;
	tab-stops:48.2pt;
	font-size:14.0pt;
	font-family:Optima;
	color:black;
	font-weight:bold;}
p.testo2, li.testo2, div.testo2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:51.05pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:center 233.9pt right 404.0pt;
	font-size:10.0pt;
	font-family:Optima;
	color:black;}
p.Tabella, li.Tabella, div.Tabella
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:center 233.9pt right 404.0pt;
	font-size:10.0pt;
	font-family:Optima;
	color:black;}
p.Testo1, li.Testo1, div.Testo1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:34.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:35.45pt 3.0cm center 212.65pt right 14.0cm;
	font-size:10.0pt;
	font-family:Optima;}
p.tabellina, li.tabellina, div.tabellina
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:34.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:63.8pt 148.85pt 177.2pt 219.7pt 269.35pt 12.0cm 382.75pt;
	font-size:8.0pt;
	font-family:Optima;
	font-weight:bold;}
p.Testo3, li.Testo3, div.Testo3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:65.2pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:111.2pt;
	font-size:10.0pt;
	font-family:Optima;}
p.Testo4, li.Testo4, div.Testo4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:90.7pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:111.2pt 5.0cm 6.0cm;
	font-size:10.0pt;
	font-family:Optima;}
p.Testo2Italic, li.Testo2Italic, div.Testo2Italic
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:51.05pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:center 233.9pt right 404.0pt;
	font-size:10.0pt;
	font-family:Optima;
	color:black;
	font-style:italic;}
p.Testo3Italic, li.Testo3Italic, div.Testo3Italic
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:65.2pt;
	margin-bottom:.0001pt;
	text-align:justify;
	tab-stops:111.2pt;
	font-size:10.0pt;
	font-family:Optima;
	font-style:italic;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:42.55pt 2.0cm 42.55pt 2.0cm;}
div.Section1
	{page:Section1;}
@page Section2
	{size:595.3pt 841.9pt;
	margin:42.55pt 2.0cm 42.55pt 2.0cm;}
div.Section2
	{page:Section2;}
 /* List Definitions */
@list l0:level1
	{text-indent:-18.0pt;
	tab-stops:list 36.0pt;
	font-family:Symbol;}
@list l0:level2
	{text-indent:-18.0pt;
	tab-stops:list 72.0pt;
	font-family:"Courier New";}
@list l1:level1
	{text-indent:-18.0pt;
	tab-stops:list 36.0pt;
	font-family:Symbol;}
@list l2:level1
	{text-indent:-18.0pt;
	tab-stops:list 36.0pt;
	font-family:Symbol;}
@list l3:level1
	{margin-left:21.6pt;
	text-indent:-21.6pt;
	tab-stops:list 21.6pt;}
@list l3:level2
	{margin-left:28.8pt;
	text-indent:-28.8pt;
	tab-stops:list 28.8pt;}
@list l3:level3
	{margin-left:36.0pt;
	text-indent:-36.0pt;
	tab-stops:list 36.0pt;}
@list l3:level4
	{margin-left:43.2pt;
	text-indent:-43.2pt;
	tab-stops:list 43.2pt;}
@list l3:level5
	{margin-left:50.4pt;
	text-indent:-50.4pt;
	tab-stops:list 50.4pt;}
@list l3:level6
	{margin-left:57.6pt;
	text-indent:-57.6pt;
	tab-stops:list 57.6pt;}
@list l3:level7
	{margin-left:64.8pt;
	text-indent:-64.8pt;
	tab-stops:list 64.8pt;}
@list l3:level8
	{margin-left:72.0pt;
	text-indent:-72.0pt;
	tab-stops:list 72.0pt;}
@list l3:level9
	{margin-left:79.2pt;
	text-indent:-79.2pt;
	tab-stops:list 79.2pt;}
@list l4:level1
	{margin-left:0cm;
	text-indent:0cm;
	tab-stops:list 18.0pt;
	font-size:1.0pt;}
@list l4:level2
	{margin-left:0cm;
	text-indent:0cm;
	tab-stops:list 36.0pt;
	font-size:14.0pt;}
@list l4:level3
	{margin-left:0cm;
	text-indent:14.2pt;
	tab-stops:list 50.2pt;
	font-size:10.0pt;
	font-weight:bold;
	font-style:normal;}
@list l4:level4
	{margin-left:43.2pt;
	text-indent:-14.85pt;
	tab-stops:list 64.35pt;
	font-size:8.0pt;}
@list l4:level5
	{margin-left:50.4pt;
	text-indent:-22.05pt;
	tab-stops:list 64.35pt;
	font-size:8.0pt;}
@list l4:level6
	{margin-left:57.6pt;
	text-indent:-57.6pt;
	tab-stops:list 57.6pt;}
@list l4:level7
	{margin-left:64.8pt;
	text-indent:-64.8pt;
	tab-stops:list 64.8pt;}
@list l4:level8
	{margin-left:72.0pt;
	text-indent:-72.0pt;
	tab-stops:list 72.0pt;}
@list l4:level9
	{margin-left:79.2pt;
	text-indent:-79.2pt;
	tab-stops:list 79.2pt;}
@list l5:level1
	{margin-left:72.0pt;
	text-indent:-18.0pt;
	tab-stops:list 72.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
--></style>
</head>

	<body lang=IT link=blue vlink=purple style="tab-interval:36.0pt">
		<div class=Section1>
			<div style="position:relative; width:805px; height:35; -adbe-g:p;">
			  <div style="position:relative; width:350; height:35; -adbe-g:p;">
			    <div style="position:absolute; top:-2px; left:8px; width:81px; height:35px;"> <span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><a href="http://www.guiott.com/Rino/index.html"><img src="http://www.guiott.com/Rino/rino.jpg" alt="" width="81" height="35" align="absmiddle" border="0"></a></span></div>
			    <div colspan="2" style="position:absolute; top:7px; left:95px; width:175px; height:22px; -adbe-c:c; text-align: left;">
			      <div align="right"> <strong><font size="-1">updated on 13-12-2011</font></strong></div>
		        </div>
		      </div>
            </div>
	</div>
		<div class=Section1 align="center"></div>
		<div class=Section1>
			<p class=MsoNormal align=center style="text-align:center;tab-stops:right 411.1pt"></p>
		</div>
	</body>

</html>






